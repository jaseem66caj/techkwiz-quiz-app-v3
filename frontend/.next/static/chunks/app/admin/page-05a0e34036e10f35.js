(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{4221:(e,t,a)=>{Promise.resolve().then(a.bind(a,7220))},5431:(e,t,a)=>{"use strict";a.d(t,{X:()=>i,z:()=>l});var r=a(5155),n=a(2115);let o=(0,n.createContext)(void 0);function i(e){let{children:t}=e,[a,i]=(0,n.useState)(null),[l,s]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=localStorage.getItem("admin_token"),t=localStorage.getItem("admin_username");e&&t?d(e,t):s(!1)},[]);let d=async(e,t)=>{try{(await fetch("".concat("https://6f432a21-8a1b-4406-9faf-ea20a067d237.preview.emergentagent.com","/api/admin/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(a.ok){let t=(await a.json()).access_token;return localStorage.setItem("admin_token",t),localStorage.setItem("admin_username",e),i({username:e,token:t}),!0}return!1}catch(e){return console.error("Login failed:",e),!1}};return(0,r.jsx)(o.Provider,{value:{adminUser:a,isAuthenticated:!!a,login:c,logout:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_username"),i(null)},loading:l},children:t})}let l=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAdmin must be used within an AdminProvider");return e}},7220:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(5155),n=a(2115),o=a(5431),i=a(3463),l=a(6874),s=a.n(l);function d(){let{login:e,isAuthenticated:t}=(0,o.z)(),[a,l]=(0,n.useState)(""),[d,c]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[h,p]=(0,n.useState)("");if(t)return window.location.href="/admin/dashboard",null;let b=async t=>{t.preventDefault(),u(!0),p("");try{await e(a,d)?window.location.href="/admin/dashboard":p("Invalid credentials. Please try again.")}catch(e){p("Login failed. Please check your connection.")}finally{u(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:(0,r.jsxs)(i.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl p-8 w-full max-w-md shadow-2xl",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"TechKwiz Admin"}),(0,r.jsx)("p",{className:"text-blue-200",children:"Sign in to manage your quiz platform"})]}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-white mb-2",children:"Username"}),(0,r.jsx)("input",{type:"text",id:"username",value:a,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Enter your username",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",value:d,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Enter your password",required:!0})]}),h&&(0,r.jsx)(i.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-red-500/20 border border-red-400/50 rounded-lg p-3 text-red-200 text-sm",children:h}),(0,r.jsx)(i.P.button,{type:"submit",disabled:m,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign In"})]}),(0,r.jsxs)("div",{className:"mt-8 pt-6 border-t border-white/20",children:[(0,r.jsx)("p",{className:"text-center text-sm text-blue-200 mb-4",children:(0,r.jsx)(s(),{href:"/admin/forgot-password",className:"hover:text-white transition-colors underline",children:"Forgot your password?"})}),(0,r.jsx)("p",{className:"text-center text-sm text-blue-200",children:"Need help? Contact your administrator"})]})]})})}}},e=>{e.O(0,[463,874,441,964,358],()=>e(e.s=4221)),_N_E=e.O()}]);