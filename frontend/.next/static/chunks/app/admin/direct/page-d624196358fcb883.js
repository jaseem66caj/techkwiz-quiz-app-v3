(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[294],{3064:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(5155),n=a(2115);function o(){let[e,t]=(0,n.useState)(""),[a,o]=(0,n.useState)(!1),i=async()=>{o(!0),t("");try{let e="http://localhost:8001";console.log("Testing login to:","".concat(e,"/api/admin/login"));let a=await fetch("".concat(e,"/api/admin/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"admin",password:"password123"})}),s=await a.json();a.ok?(t("SUCCESS: Got token: ".concat(s.access_token.substring(0,50),"...")),localStorage.setItem("admin_token",s.access_token),localStorage.setItem("admin_username","admin"),setTimeout(()=>{window.location.href="/admin/dashboard"},1e3)):t("ERROR: ".concat(s.detail||"Login failed"))}catch(e){t("ERROR: Network error - ".concat(e.message))}finally{o(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 w-full max-w-md",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Direct Admin Login Test"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-blue-50 rounded",children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Test Credentials:"}),(0,s.jsx)("p",{children:"Username: admin"}),(0,s.jsx)("p",{children:"Password: password123"})]}),(0,s.jsx)("button",{onClick:i,disabled:a,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 disabled:opacity-50",children:a?"Testing Login...":"Test Direct Login"}),(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_username"),t("Storage cleared")},className:"w-full bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700",children:"Clear Storage"}),e&&(0,s.jsx)("div",{className:"p-4 rounded ".concat(e.startsWith("SUCCESS")?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-sm",children:e})})]})]})})}},8317:(e,t,a)=>{Promise.resolve().then(a.bind(a,3064))}},e=>{e.O(0,[441,964,358],()=>e(e.s=8317)),_N_E=e.O()}]);