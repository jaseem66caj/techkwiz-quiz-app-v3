(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{4221:(e,t,a)=>{Promise.resolve().then(a.bind(a,7220))},5431:(e,t,a)=>{"use strict";a.d(t,{X:()=>l,z:()=>s});var r=a(5155),n=a(2115),o=a(7358);let i=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[a,l]=(0,n.useState)(null),[s,d]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=localStorage.getItem("admin_token"),t=localStorage.getItem("admin_username");e&&t?c(e,t):d(!1)},[]);let c=async(e,t)=>{try{(await fetch("".concat(o.env.REACT_APP_BACKEND_URL,"/api/admin/verify"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})).ok?l({username:t,token:e}):(localStorage.removeItem("admin_token"),localStorage.removeItem("admin_username"))}catch(e){console.error("Token verification failed:",e),localStorage.removeItem("admin_token"),localStorage.removeItem("admin_username")}finally{d(!1)}},u=async(e,t)=>{try{let a=await fetch("".concat(o.env.REACT_APP_BACKEND_URL,"/api/admin/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(a.ok){let t=(await a.json()).access_token;return localStorage.setItem("admin_token",t),localStorage.setItem("admin_username",e),l({username:e,token:t}),!0}return!1}catch(e){return console.error("Login failed:",e),!1}};return(0,r.jsx)(i.Provider,{value:{adminUser:a,isAuthenticated:!!a,login:u,logout:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_username"),l(null)},loading:s},children:t})}let s=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("useAdmin must be used within an AdminProvider");return e}},7220:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(5155),n=a(2115),o=a(5431),i=a(3463);function l(){let{login:e,isAuthenticated:t}=(0,o.z)(),[a,l]=(0,n.useState)(""),[s,d]=(0,n.useState)(""),[c,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)("");if(t)return window.location.href="/admin/dashboard",null;let p=async t=>{t.preventDefault(),u(!0),h("");try{await e(a,s)?window.location.href="/admin/dashboard":h("Invalid credentials. Please try again.")}catch(e){h("Login failed. Please check your connection.")}finally{u(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:(0,r.jsxs)(i.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl p-8 w-full max-w-md shadow-2xl",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"TechKwiz Admin"}),(0,r.jsx)("p",{className:"text-blue-200",children:"Sign in to manage your quiz platform"})]}),(0,r.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-white mb-2",children:"Username"}),(0,r.jsx)("input",{type:"text",id:"username",value:a,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Enter your username",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",value:s,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent",placeholder:"Enter your password",required:!0})]}),m&&(0,r.jsx)(i.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-red-500/20 border border-red-400/50 rounded-lg p-3 text-red-200 text-sm",children:m}),(0,r.jsx)(i.P.button,{type:"submit",disabled:c,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:c?(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign In"})]}),(0,r.jsx)("div",{className:"mt-8 pt-6 border-t border-white/20",children:(0,r.jsx)("p",{className:"text-center text-sm text-blue-200",children:"Need help? Contact your administrator"})})]})})}}},e=>{e.O(0,[463,441,964,358],()=>e(e.s=4221)),_N_E=e.O()}]);