(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1595:(e,t,s)=>{"use strict";s.d(t,{K:()=>a});var n=s(2115);function a(e){let{isActive:t,onExitAttempt:s,customMessage:a="Are you sure you want to leave? Your progress will be lost!"}=e,r=(0,n.useRef)(t),i=(0,n.useRef)(s);(0,n.useEffect)(()=>{r.current=t,i.current=s},[t,s]);let o=(0,n.useCallback)(e=>{if(console.log("\uD83D\uDD27 beforeunload event triggered, isActive:",r.current),r.current)return console.log("\uD83D\uDEA8 beforeunload: Preventing exit and calling onExitAttempt"),e.preventDefault(),e.returnValue=a,i.current(),a},[a]),c=(0,n.useCallback)(e=>{console.log("\uD83D\uDD27 popstate event triggered, isActive:",r.current),r.current&&(console.log("\uD83D\uDEA8 popstate: Preventing navigation and calling onExitAttempt"),window.history.pushState(null,"",window.location.pathname),i.current())},[]),l=(0,n.useCallback)(e=>{r.current&&(e.altKey&&"F4"===e.key||e.ctrlKey&&"w"===e.key||e.ctrlKey&&"q"===e.key||e.metaKey&&"w"===e.key||e.metaKey&&"q"===e.key)&&(console.log("\uD83D\uDEA8 keyboard shortcut detected:",e.key,"calling onExitAttempt"),e.preventDefault(),i.current())},[]);return(0,n.useEffect)(()=>{if(console.log("\uD83D\uDD27 useExitPrevention: Effect running, isActive:",t),t)return console.log("\uD83D\uDD27 useExitPrevention: Adding event listeners..."),window.addEventListener("beforeunload",o),window.addEventListener("popstate",c),window.addEventListener("keydown",l),window.history.pushState(null,"",window.location.pathname),console.log("\uD83D\uDD27 useExitPrevention: Event listeners added successfully"),()=>{console.log("\uD83D\uDD27 useExitPrevention: Cleaning up event listeners..."),window.removeEventListener("beforeunload",o),window.removeEventListener("popstate",c),window.removeEventListener("keydown",l)}},[t,o,c,l]),{disablePrevention:(0,n.useCallback)(()=>{r.current=!1},[])}}},1604:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var n=s(5155),a=s(2115),r=s(5695),i=s(3463),o=s(881),c=s(3825),l=s(263),d=s(9314);function u(e){let{onComplete:t,onSkip:s}=e,{dispatch:r}=(0,o.n)(),[c,l]=(0,a.useState)(0),[u,m]=(0,a.useState)(null),[g,h]=(0,a.useState)(0),[p,x]=(0,a.useState)(!1),[f,b]=(0,a.useState)(!1),[w,y]=(0,a.useState)([]),[v,N]=(0,a.useState)(!0);(0,a.useEffect)(()=>{try{N(!0);let e=d.xB.getQuestionsBySection("onboarding");if(e.length>=2){let t=e.slice(0,2).map(e=>{var t;return{id:e.id,question:e.question,options:e.options,correct_answer:null!=(t=e.correct_answer)?t:0,reward_coins:150,fun_fact:e.fun_fact||"Great job!"}});y(t),console.log("✅ Using admin onboarding questions")}else y(_()),console.log("⚠️ Using fallback onboarding questions")}catch(e){console.error("Error loading onboarding questions:",e),y(_())}finally{N(!1)}},[]);let _=()=>[{id:"onboard-1",question:"Which tech company created the iPhone?",options:["Apple \uD83C\uDF4E","Google \uD83D\uDD0D","Samsung \uD83D\uDCF1","Microsoft \uD83D\uDCBB"],correct_answer:0,reward_coins:150},{id:"onboard-2",question:"What does 'www' stand for in website URLs?",options:["World Wide Web \uD83C\uDF10","World Web Works \uD83D\uDD27","Web World Wide \uD83C\uDF0D","Wide Web World \uD83D\uDCE1"],correct_answer:0,reward_coins:150}];if(v)return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,n.jsxs)(i.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-blue-800/90 to-purple-900/90 backdrop-blur-md rounded-2xl p-8 max-w-md mx-auto border border-blue-400/30 text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-400 mx-auto mb-4"}),(0,n.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Loading Questions..."}),(0,n.jsx)("p",{className:"text-blue-100",children:"Preparing your onboarding experience"})]})});if(0===w.length)return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,n.jsxs)(i.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-red-800/90 to-pink-900/90 backdrop-blur-md rounded-2xl p-8 max-w-md mx-auto border border-red-400/30 text-center",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"⚠️"}),(0,n.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"No Questions Available"}),(0,n.jsx)("p",{className:"text-red-100",children:"Please add onboarding questions in the admin dashboard"})]})});if(f)return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,n.jsxs)(i.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-green-800/90 to-emerald-900/90 backdrop-blur-md rounded-2xl p-8 max-w-md mx-auto border border-green-400/30 text-center",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF89"}),(0,n.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Awesome!"}),(0,n.jsxs)("p",{className:"text-green-100 mb-4",children:["You've earned ",(0,n.jsx)("span",{className:"text-yellow-400 font-bold text-2xl",children:g})," coins!"]}),(0,n.jsx)("div",{className:"bg-green-500/20 backdrop-blur-sm rounded-xl p-4 border border-green-400/30",children:(0,n.jsx)("p",{className:"text-green-200 text-sm",children:"Ready to test your knowledge on more challenging quizzes?"})})]})});if(p){let e=u===w[c].correct_answer,t=e?w[c].reward_coins:75;return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,n.jsxs)(i.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"".concat(e?"bg-gradient-to-br from-purple-800/90 to-pink-900/90":"bg-gradient-to-br from-orange-800/90 to-red-900/90"," backdrop-blur-md rounded-2xl p-8 max-w-md mx-auto border ").concat(e?"border-purple-400/30":"border-orange-400/30"," text-center"),children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:e?"\uD83C\uDFAF":"\uD83D\uDCAA"}),(0,n.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:e?"Super!":"Good try!"}),(0,n.jsxs)("p",{className:"text-white mb-4",children:["You won ",(0,n.jsx)("span",{className:"text-yellow-400 font-bold text-2xl",children:t})," coins"]}),(0,n.jsx)("div",{className:"".concat(e?"bg-purple-500/20":"bg-orange-500/20"," backdrop-blur-sm rounded-xl p-4 border ").concat(e?"border-purple-400/30":"border-orange-400/30"),children:(0,n.jsx)("p",{className:"text-white text-sm",children:e?"Correct! Well done!":"Don't worry, you still earned coins!"})})]})})}return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"bg-gradient-to-br from-blue-900/95 to-purple-900/95 backdrop-blur-md rounded-2xl p-8 max-w-lg mx-auto border border-blue-400/30",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Let's get started! \uD83D\uDE80"}),(0,n.jsxs)("p",{className:"text-yellow-300 text-lg font-medium mb-4",children:["Answer 2 simple questions to get ",(0,n.jsx)("span",{className:"text-yellow-400 font-bold",children:"300 coins"})," now"]}),(0,n.jsx)("div",{className:"bg-blue-500/20 backdrop-blur-sm rounded-full px-6 py-3 inline-block border border-blue-400/30 mb-6",children:(0,n.jsxs)("span",{className:"text-white font-bold text-lg",children:[c+1,"/2 - Question"]})})]}),(0,n.jsxs)(i.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"mb-8",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-white mb-6 text-center leading-relaxed",children:w[c].question}),(0,n.jsx)("div",{className:"space-y-3",children:w[c].options.map((e,s)=>(0,n.jsx)(i.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{null===u&&(m(s),setTimeout(()=>{let e=w[c],n=s===e.correct_answer?e.reward_coins:75;r({type:"UPDATE_COINS",payload:n}),h(e=>e+n),x(!0),setTimeout(()=>{x(!1),c<w.length-1?(l(c+1),m(null)):(b(!0),setTimeout(()=>{t(g+n)},2e3))},2e3)},1e3))},disabled:null!==u,className:"w-full p-4 rounded-xl text-left font-medium transition-all duration-300 border-2 ".concat(u===s?"bg-purple-500 text-white border-purple-400 shadow-lg shadow-purple-500/30":"bg-gray-700/50 text-white border-gray-600 hover:bg-gray-600/50 hover:border-purple-400/50"," ").concat(null!==u?"cursor-not-allowed":"cursor-pointer"),children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-lg",children:e}),(0,n.jsx)("span",{className:"text-2xl",children:u===s?"✅":"\uD83D\uDC46"})]})},s))})]},c),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors duration-200 text-sm underline",children:"Skip onboarding"})})]})})}var m=s(7062);function g(e){let{position:t="top",variant:s="compact",showLive:r=!0}=e,[o,c]=(0,a.useState)(847362),[l,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(1247);(0,a.useEffect)(()=>{let e=setInterval(()=>{c(e=>e+Math.floor(3*Math.random())),m(e=>e+Math.floor(5*Math.random())-2)},8e3);return()=>clearInterval(e)},[]),(0,a.useEffect)(()=>{let e=["Sarah just earned 150 coins! \uD83E\uDE99","Mike completed Programming quiz! \uD83C\uDFAF","Alex is on a 5-question streak! \uD83D\uDD25","Jordan joined from New York! \uD83C\uDF1F","Emma earned a perfect score! ⭐","Chris unlocked a new achievement! \uD83C\uDFC6","Zoe just started their first quiz! \uD83D\uDE80","Tyler earned 200 bonus coins! \uD83D\uDCB0"],t=()=>{let t=e[Math.floor(Math.random()*e.length)];d(e=>[t,...e.slice(0,2)])};t();let s=setInterval(t,6e3);return()=>clearInterval(s)},[]);let g=e=>e>=1e6?"".concat((e/1e6).toFixed(1),"M+"):e>=1e3?"".concat(Math.floor(e/1e3),"K+"):e.toString();return"compact"===s?(0,n.jsx)(i.P.div,{initial:{opacity:0,y:"top"===t?-20:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"".concat("top"===t?"fixed top-0":"fixed bottom-0"," left-0 right-0 z-40"),children:(0,n.jsx)("div",{className:"bg-gradient-to-r from-green-600/90 to-emerald-600/90 backdrop-blur-md border-b border-green-400/30 px-4 py-2",children:(0,n.jsxs)("div",{className:"flex items-center justify-center space-x-6 text-white",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-green-200",children:"\uD83D\uDC65"}),(0,n.jsxs)("span",{className:"text-sm font-medium",children:["Join ",(0,n.jsx)("span",{className:"font-bold text-green-100",children:g(o)})," players!"]})]}),r&&(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-300 rounded-full animate-pulse"}),(0,n.jsx)("span",{className:"text-green-200 text-sm",children:"Live:"})]}),(0,n.jsx)("span",{className:"font-bold text-green-100 text-sm",children:u})]}),l.length>0&&(0,n.jsx)(i.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"hidden sm:block",children:(0,n.jsx)("span",{className:"text-green-100 text-sm",children:l[0]})},l[0])]})})}):(0,n.jsxs)(i.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"bg-gradient-to-br from-green-800/50 to-emerald-900/50 backdrop-blur-sm rounded-xl p-6 border border-green-400/20",children:[(0,n.jsxs)("div",{className:"text-center mb-4",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"\uD83D\uDE80 Join the TechKwiz Community!"}),(0,n.jsx)("p",{className:"text-green-200",children:"Be part of the fastest-growing quiz platform for Gen Z"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,n.jsxs)("div",{className:"bg-green-500/20 rounded-lg p-3 text-center border border-green-400/20",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-white",children:g(o)}),(0,n.jsx)("div",{className:"text-green-200 text-xs",children:"Total Players"})]}),(0,n.jsxs)("div",{className:"bg-blue-500/20 rounded-lg p-3 text-center border border-blue-400/20",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-white",children:u}),(0,n.jsxs)("div",{className:"text-blue-200 text-xs flex items-center justify-center",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-blue-300 rounded-full animate-pulse mr-1"}),"Online Now"]})]}),(0,n.jsxs)("div",{className:"bg-purple-500/20 rounded-lg p-3 text-center border border-purple-400/20",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-white",children:"2.5M+"}),(0,n.jsx)("div",{className:"text-purple-200 text-xs",children:"Quizzes Played"})]}),(0,n.jsxs)("div",{className:"bg-orange-500/20 rounded-lg p-3 text-center border border-orange-400/20",children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-white",children:"98%"}),(0,n.jsx)("div",{className:"text-orange-200 text-xs",children:"Love Rate"})]})]}),(0,n.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:[(0,n.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse mr-2"}),"Live Activity"]}),(0,n.jsx)("div",{className:"space-y-2 max-h-24 overflow-hidden",children:l.map((e,t)=>(0,n.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"text-gray-300 text-sm flex items-center",children:[(0,n.jsx)("div",{className:"w-1 h-1 bg-green-400 rounded-full mr-2"}),e]},"".concat(e,"-").concat(t)))})]}),(0,n.jsxs)("div",{className:"flex justify-center items-center mt-4 space-x-4 text-sm text-green-200",children:[(0,n.jsx)("span",{children:"\uD83D\uDD12 Secure & Safe"}),(0,n.jsx)("span",{children:"•"}),(0,n.jsx)("span",{children:"⚡ Fast & Fun"}),(0,n.jsx)("span",{children:"•"}),(0,n.jsx)("span",{children:"\uD83C\uDFAF 100% Free"})]})]})}var h=s(1595),p=s(2484);let x={CONFIG:"admin_reward_config",ACHIEVEMENTS:"admin_reward_achievements",SETTINGS:"admin_reward_settings",BACKUP:"admin_reward_backup"},f={coinValues:{correct:25,incorrect:0,bonus:50,dailyBonus:100,streakBonus:10},streakSettings:{enabled:!0,multiplierPerDay:1.1,maxMultiplier:3,resetOnWrongAnswer:!0},popupSettings:{enabled:!0,showAfterQuestions:1,duration:3,showFunFact:!0,customMessages:{correct:"Great job! You earned {coins} coins!",incorrect:"Better luck next time!",bonus:"Bonus! You earned {coins} extra coins!"}},adSettings:{enabled:!0,frequency:3,minQuestionsBetweenAds:2,rewardCoins:100},achievements:[]},b=[{name:"First Quiz",description:"Complete your first quiz",icon:"\uD83C\uDFC6",requirement:{type:"questions_answered",value:5},reward:{coins:50,badge:!0},hidden:!1},{name:"Streak Starter",description:"Answer 3 questions correctly in a row",icon:"\uD83D\uDD25",requirement:{type:"streak_days",value:3},reward:{coins:75,badge:!0},hidden:!1},{name:"Quiz Master",description:"Answer 50 questions correctly",icon:"\uD83E\uDDE0",requirement:{type:"correct_answers",value:50},reward:{coins:200,badge:!0},hidden:!1},{name:"Coin Collector",description:"Earn 1000 coins",icon:"\uD83D\uDCB0",requirement:{type:"coins_earned",value:1e3},reward:{coins:150,badge:!0},hidden:!1}],w={COIN_MIN_VALUE:1,COIN_MAX_VALUE:1e3,STREAK_MIN_MULTIPLIER:1,STREAK_MAX_MULTIPLIER:10,POPUP_MIN_DURATION:1,POPUP_MAX_DURATION:10,AD_MIN_FREQUENCY:1,AD_MAX_FREQUENCY:20,ACHIEVEMENT_NAME_MIN_LENGTH:3,ACHIEVEMENT_NAME_MAX_LENGTH:50,ACHIEVEMENT_DESC_MIN_LENGTH:10,ACHIEVEMENT_DESC_MAX_LENGTH:200,REQUIREMENT_MIN_VALUE:1,REQUIREMENT_MAX_VALUE:1e3};class y extends Error{constructor(e,t){super(e),this.code=t,this.name="RewardDataError"}}class v{static getInstance(){return v.instance||(v.instance=new v),v.instance}safeGetItem(e){try{return localStorage.getItem(e)}catch(t){return console.error("Error reading from localStorage key ".concat(e,":"),t),null}}safeSetItem(e,t){try{return localStorage.setItem(e,t),!0}catch(t){if(console.error("Error writing to localStorage key ".concat(e,":"),t),t instanceof DOMException&&22===t.code)throw new y("Storage quota exceeded. Please clear some data.","QUOTA_EXCEEDED");return!1}}getRewardConfig(){let e=this.safeGetItem(x.CONFIG);if(!e)return this.initializeWithDefaults();try{let t=JSON.parse(e);return this.validateAndMigrateConfig(t)}catch(e){return console.error("Error parsing reward config data:",e),this.initializeWithDefaults()}}saveRewardConfig(e){let t={...this.getRewardConfig(),...e,updatedAt:Date.now()};return this.validateRewardConfig(t),this.safeSetItem(x.CONFIG,JSON.stringify(t)),t}getAchievements(){return this.getRewardConfig().achievements||[]}getAllAchievements(){return this.getAchievements()}saveAchievement(e){this.validateAchievement(e);let t=this.getRewardConfig(),s=Date.now(),n={...e,id:this.generateId("ach"),createdAt:s,updatedAt:s};return t.achievements.push(n),this.saveRewardConfig({achievements:t.achievements}),n}updateAchievement(e,t){let s=this.getRewardConfig(),n=s.achievements.findIndex(t=>t.id===e);if(-1===n)throw new y("Achievement with id ".concat(e," not found"),"NOT_FOUND");let a={...s.achievements[n],...t,updatedAt:Date.now()};return this.validateAchievement(a),s.achievements[n]=a,this.saveRewardConfig({achievements:s.achievements}),a}deleteAchievement(e){let t=this.getRewardConfig(),s=t.achievements.filter(t=>t.id!==e);if(s.length===t.achievements.length)throw new y("Achievement with id ".concat(e," not found"),"NOT_FOUND");return this.saveRewardConfig({achievements:s}),!0}createAchievementFromTemplate(e){if(e<0||e>=b.length)throw new y("Invalid template index","INVALID_TEMPLATE");let t=b[e];return this.saveAchievement(t)}generatePreviewData(e,t){let s=this.getRewardConfig();switch(e){case"correct":return{type:"correct",coins:t||s.coinValues.correct,message:s.popupSettings.customMessages.correct.replace("{coins}",(t||s.coinValues.correct).toString()),funFact:s.popupSettings.showFunFact?"This is a sample fun fact for preview!":void 0};case"incorrect":return{type:"incorrect",coins:t||s.coinValues.incorrect,message:s.popupSettings.customMessages.incorrect.replace("{coins}",(t||s.coinValues.incorrect).toString())};case"bonus":return{type:"bonus",coins:t||s.coinValues.bonus,message:s.popupSettings.customMessages.bonus.replace("{coins}",(t||s.coinValues.bonus).toString()),funFact:s.popupSettings.showFunFact?"Bonus questions often contain interesting trivia!":void 0};case"achievement":let n={...s.achievements[0]||b[0],id:"achievement_".concat(Date.now()),createdAt:Date.now(),updatedAt:Date.now()};return{type:"achievement",coins:n.reward.coins,message:"Achievement Unlocked: ".concat(n.name,"!"),achievement:n};default:throw new y("Invalid preview type","INVALID_PREVIEW_TYPE")}}validateRewardConfig(e){if(!e.coinValues)throw new y("Coin values are required","INVALID_COIN_VALUES");if(Object.entries(e.coinValues).forEach(e=>{let[t,s]=e;if("number"!=typeof s||s<w.COIN_MIN_VALUE||s>w.COIN_MAX_VALUE)throw new y("Invalid coin value for ".concat(t,". Must be between ").concat(w.COIN_MIN_VALUE," and ").concat(w.COIN_MAX_VALUE),"INVALID_COIN_VALUE")}),e.streakSettings&&("number"!=typeof e.streakSettings.multiplierPerDay||e.streakSettings.multiplierPerDay<w.STREAK_MIN_MULTIPLIER||e.streakSettings.multiplierPerDay>w.STREAK_MAX_MULTIPLIER))throw new y("Invalid streak multiplier. Must be between ".concat(w.STREAK_MIN_MULTIPLIER," and ").concat(w.STREAK_MAX_MULTIPLIER),"INVALID_STREAK_MULTIPLIER");if(e.popupSettings&&("number"!=typeof e.popupSettings.duration||e.popupSettings.duration<w.POPUP_MIN_DURATION||e.popupSettings.duration>w.POPUP_MAX_DURATION))throw new y("Invalid popup duration. Must be between ".concat(w.POPUP_MIN_DURATION," and ").concat(w.POPUP_MAX_DURATION),"INVALID_POPUP_DURATION");if(e.adSettings&&("number"!=typeof e.adSettings.frequency||e.adSettings.frequency<w.AD_MIN_FREQUENCY||e.adSettings.frequency>w.AD_MAX_FREQUENCY))throw new y("Invalid ad frequency. Must be between ".concat(w.AD_MIN_FREQUENCY," and ").concat(w.AD_MAX_FREQUENCY),"INVALID_AD_FREQUENCY")}validateAchievement(e){if(!e.name||e.name.length<w.ACHIEVEMENT_NAME_MIN_LENGTH||e.name.length>w.ACHIEVEMENT_NAME_MAX_LENGTH)throw new y("Achievement name must be between ".concat(w.ACHIEVEMENT_NAME_MIN_LENGTH," and ").concat(w.ACHIEVEMENT_NAME_MAX_LENGTH," characters"),"INVALID_ACHIEVEMENT_NAME");if(!e.description||e.description.length<w.ACHIEVEMENT_DESC_MIN_LENGTH||e.description.length>w.ACHIEVEMENT_DESC_MAX_LENGTH)throw new y("Achievement description must be between ".concat(w.ACHIEVEMENT_DESC_MIN_LENGTH," and ").concat(w.ACHIEVEMENT_DESC_MAX_LENGTH," characters"),"INVALID_ACHIEVEMENT_DESCRIPTION");if(!e.requirement||!e.requirement.type||"number"!=typeof e.requirement.value||e.requirement.value<w.REQUIREMENT_MIN_VALUE||e.requirement.value>w.REQUIREMENT_MAX_VALUE)throw new y("Invalid achievement requirement. Type is required and value must be between ".concat(w.REQUIREMENT_MIN_VALUE," and ").concat(w.REQUIREMENT_MAX_VALUE),"INVALID_ACHIEVEMENT_REQUIREMENT")}validateAndMigrateConfig(e){var t,s,n,a,r,i,o,c,l,d,u,m,g,h,p,x,b,w,y,v,N,_,S;return{id:e.id||this.generateId("rc"),coinValues:{correct:(null==(t=e.coinValues)?void 0:t.correct)||f.coinValues.correct,incorrect:(null==(s=e.coinValues)?void 0:s.incorrect)||f.coinValues.incorrect,bonus:(null==(n=e.coinValues)?void 0:n.bonus)||f.coinValues.bonus,dailyBonus:(null==(a=e.coinValues)?void 0:a.dailyBonus)||f.coinValues.dailyBonus,streakBonus:(null==(r=e.coinValues)?void 0:r.streakBonus)||f.coinValues.streakBonus},streakSettings:{enabled:(null==(i=e.streakSettings)?void 0:i.enabled)!==void 0?e.streakSettings.enabled:f.streakSettings.enabled,multiplierPerDay:(null==(o=e.streakSettings)?void 0:o.multiplierPerDay)||f.streakSettings.multiplierPerDay,maxMultiplier:(null==(c=e.streakSettings)?void 0:c.maxMultiplier)||f.streakSettings.maxMultiplier,resetOnWrongAnswer:(null==(l=e.streakSettings)?void 0:l.resetOnWrongAnswer)!==void 0?e.streakSettings.resetOnWrongAnswer:f.streakSettings.resetOnWrongAnswer},popupSettings:{enabled:(null==(d=e.popupSettings)?void 0:d.enabled)!==void 0?e.popupSettings.enabled:f.popupSettings.enabled,showAfterQuestions:(null==(u=e.popupSettings)?void 0:u.showAfterQuestions)||f.popupSettings.showAfterQuestions,duration:(null==(m=e.popupSettings)?void 0:m.duration)||f.popupSettings.duration,showFunFact:(null==(g=e.popupSettings)?void 0:g.showFunFact)!==void 0?e.popupSettings.showFunFact:f.popupSettings.showFunFact,customMessages:{correct:(null==(p=e.popupSettings)||null==(h=p.customMessages)?void 0:h.correct)||f.popupSettings.customMessages.correct,incorrect:(null==(b=e.popupSettings)||null==(x=b.customMessages)?void 0:x.incorrect)||f.popupSettings.customMessages.incorrect,bonus:(null==(y=e.popupSettings)||null==(w=y.customMessages)?void 0:w.bonus)||f.popupSettings.customMessages.bonus}},adSettings:{enabled:(null==(v=e.adSettings)?void 0:v.enabled)!==void 0?e.adSettings.enabled:f.adSettings.enabled,frequency:(null==(N=e.adSettings)?void 0:N.frequency)||f.adSettings.frequency,minQuestionsBetweenAds:(null==(_=e.adSettings)?void 0:_.minQuestionsBetweenAds)||f.adSettings.minQuestionsBetweenAds,rewardCoins:(null==(S=e.adSettings)?void 0:S.rewardCoins)||f.adSettings.rewardCoins},achievements:Array.isArray(e.achievements)?e.achievements:f.achievements,createdAt:e.createdAt||Date.now(),updatedAt:e.updatedAt||Date.now()}}initializeWithDefaults(){let e=Date.now(),t={id:this.generateId("rc"),...f,achievements:[...b.map(t=>({...t,id:this.generateId("ach"),createdAt:e,updatedAt:e}))],createdAt:e,updatedAt:e};return this.safeSetItem(x.CONFIG,JSON.stringify(t)),t}generateId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"_").concat(Date.now().toString(36)).concat(Math.random().toString(36).substr(2,5))}createBackup(){let e=JSON.stringify({config:this.getRewardConfig(),timestamp:Date.now(),version:"1.0"});return this.safeSetItem(x.BACKUP,e),e}restoreFromBackup(e){try{let t=JSON.parse(e);t.config&&this.safeSetItem(x.CONFIG,JSON.stringify(t.config)),console.log("✅ Successfully restored reward data from backup")}catch(e){throw new y("Failed to restore from backup: ".concat(e instanceof Error?e.message:"Unknown error"),"RESTORE_FAILED")}}getBackup(){return this.safeGetItem(x.BACKUP)}clearAllData(){Object.values(x).forEach(e=>{try{localStorage.removeItem(e)}catch(t){console.error("Error clearing reward data for key ".concat(e,":"),t)}})}}let N=v.getInstance(),_={DATA:"admin_analytics_data",SETTINGS:"admin_analytics_settings",CACHE:"admin_analytics_cache",EXPORT_HISTORY:"admin_analytics_exports"},S=[{id:"7d",name:"Last 7 Days",days:7,startDate:new Date(Date.now()-6048e5).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]},{id:"30d",name:"Last 30 Days",days:30,startDate:new Date(Date.now()-2592e6).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]},{id:"90d",name:"Last 90 Days",days:90,startDate:new Date(Date.now()-7776e6).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}],A=[{id:"movies",name:"Movies",description:"Test your knowledge of movies and cinema",icon:"\uD83C\uDFAC",color:"bg-blue-500"},{id:"social-media",name:"Social Media",description:"How well do you know social media platforms?",icon:"\uD83D\uDCF1",color:"bg-purple-500"},{id:"influencers",name:"Influencers",description:"Test your knowledge of popular influencers",icon:"\uD83C\uDF1F",color:"bg-pink-500"}];class E{static getInstance(){return E.instance||(E.instance=new E),E.instance}safeGetItem(e){try{return localStorage.getItem(e)}catch(t){return console.error("Error reading from localStorage key ".concat(e,":"),t),null}}safeSetItem(e,t){try{return localStorage.setItem(e,t),!0}catch(t){return console.error("Error writing to localStorage key ".concat(e,":"),t),!1}}getAnalyticsData(e){let t=this.safeGetItem(_.DATA);if(!t)return this.generateMockAnalyticsData(e);try{let s=JSON.parse(t);return this.validateAndMigrateData(s,e)}catch(t){return console.error("Error parsing analytics data:",t),this.generateMockAnalyticsData(e)}}generateMockAnalyticsData(e){let t=e||S[1],s=d.xB.getQuestions(),n=N.getRewardConfig(),a=this.generateQuizMetrics(s.length),r=this.generateRewardMetrics(n.achievements.length),i=this.generateUserActivity(),o={id:"analytics_".concat(Date.now()),quizMetrics:a,rewardMetrics:r,userActivity:i,timeRange:t,createdAt:Date.now(),updatedAt:Date.now()};return this.safeSetItem(_.DATA,JSON.stringify(o)),o}generateQuizMetrics(e){let t=Math.floor(45*e+100*Math.random()),s=Math.floor(t*(.65+.2*Math.random())),n=A.map(e=>{let t=Math.floor(20*Math.random())+5,s=Math.floor(t*(.6+.3*Math.random()));return{category:e.name,questionsAnswered:t,correctAnswers:s,successRate:t>0?s/t*100:0,averageTime:15+30*Math.random()}}),a=[];for(let e=29;e>=0;e--){let t=new Date;t.setDate(t.getDate()-e),a.push({date:t.toISOString().split("T")[0],questionsAnswered:Math.floor(50*Math.random())+10,successRate:60+30*Math.random(),activeUsers:Math.floor(20*Math.random())+5})}return{totalQuestions:e,questionsAnswered:t,correctAnswers:s,incorrectAnswers:t-s,successRate:t>0?s/t*100:0,categoryPerformance:n,averageSessionTime:8.5+5*Math.random(),popularCategories:n.sort((e,t)=>t.questionsAnswered-e.questionsAnswered).slice(0,3).map(e=>e.category),difficultyDistribution:{beginner:Math.floor(40*Math.random())+30,intermediate:Math.floor(30*Math.random())+20,advanced:Math.floor(20*Math.random())+10},timeBasedPerformance:a}}generateRewardMetrics(e){let t=Math.floor(50*Math.random())+25,s=Math.floor(1e4*Math.random())+5e3,n=Math.floor(e*t*.3),a=[];for(let e=29;e>=0;e--){let t=new Date;t.setDate(t.getDate()-e),a.push({date:t.toISOString().split("T")[0],coinsEarned:Math.floor(500*Math.random())+100,achievementsUnlocked:Math.floor(5*Math.random()),activeUsers:Math.floor(15*Math.random())+5})}return{totalCoinsEarned:s,achievementsUnlocked:n,activeUsers:t,engagementRate:75+20*Math.random(),averageCoinsPerSession:s/(10*t),topAchievements:[],coinDistribution:{correct:Math.floor(.6*s),incorrect:Math.floor(.2*s),bonus:Math.floor(.15*s),achievements:Math.floor(.05*s)},rewardTrends:a}}generateUserActivity(){return{dailyActiveUsers:Math.floor(50*Math.random())+25,weeklyActiveUsers:Math.floor(200*Math.random())+100,monthlyActiveUsers:Math.floor(500*Math.random())+300,userRetention:{day1:85+10*Math.random(),day7:65+15*Math.random(),day30:45+15*Math.random()},deviceBreakdown:{desktop:35+15*Math.random(),mobile:55+20*Math.random(),tablet:5+10*Math.random()},sessionDistribution:{morning:25+10*Math.random(),afternoon:30+15*Math.random(),evening:35+15*Math.random(),night:10+10*Math.random()},userJourney:[{step:"Landing",completionRate:100,dropOffRate:0},{step:"Category Selection",completionRate:90,dropOffRate:10},{step:"Quiz Start",completionRate:85,dropOffRate:15},{step:"Question 1",completionRate:80,dropOffRate:20},{step:"Question 2",completionRate:75,dropOffRate:25},{step:"Question 3",completionRate:70,dropOffRate:30},{step:"Question 4",completionRate:65,dropOffRate:35},{step:"Question 5",completionRate:60,dropOffRate:40},{step:"Results",completionRate:55,dropOffRate:45}]}}validateAndMigrateData(e,t){return{id:e.id||"analytics_".concat(Date.now()),quizMetrics:e.quizMetrics||this.generateQuizMetrics(0),rewardMetrics:e.rewardMetrics||this.generateRewardMetrics(0),userActivity:e.userActivity||this.generateUserActivity(),timeRange:e.timeRange||t||S[1],createdAt:e.createdAt||Date.now(),updatedAt:e.updatedAt||Date.now()}}updateAnalyticsData(e){let t={...this.getAnalyticsData(),...e,updatedAt:Date.now()};return this.safeSetItem(_.DATA,JSON.stringify(t)),t}exportAnalyticsData(e){let t=this.getAnalyticsData();switch(e.format){case"json":return JSON.stringify(t,null,2);case"csv":let s="Metric,Value\n";return s+="Total Questions,".concat(t.quizMetrics.totalQuestions,"\n"),s+="Questions Answered,".concat(t.quizMetrics.questionsAnswered,"\n"),s+="Success Rate,".concat(t.quizMetrics.successRate.toFixed(2),"%\n"),s+="Total Coins Earned,".concat(t.rewardMetrics.totalCoinsEarned,"\n"),s+="Achievements Unlocked,".concat(t.rewardMetrics.achievementsUnlocked,"\n"),s+="Active Users,".concat(t.rewardMetrics.activeUsers,"\n");default:throw Error("Unsupported export format: ".concat(e.format))}}clearAnalyticsData(){Object.values(_).forEach(e=>{try{localStorage.removeItem(e)}catch(t){console.error("Error clearing analytics data for key ".concat(e,":"),t)}})}}let I=E.getInstance();class j{static getInstance(){return j.instance||(j.instance=new j),j.instance}startSyncLoop(){this.syncInterval=setInterval(()=>{this.processSyncQueue()},1e3)}setupStorageListener(){window.addEventListener("storage",e=>{var t;(null==(t=e.key)?void 0:t.startsWith("admin_"))&&e.newValue!==e.oldValue&&this.handleStorageChange(e.key,e.newValue)})}handleStorageChange(e,t){if(t)try{let s,n=JSON.parse(t);if(e.includes("quiz"))s="quiz_updated";else if(e.includes("reward"))s="reward_updated";else if(e.includes("analytics"))s="analytics_updated";else{if(!e.includes("settings"))return;s="settings_updated"}let a={type:s,data:n,timestamp:Date.now(),source:"admin"};this.notifyListeners(s,a)}catch(e){console.error("Failed to parse storage change:",e)}}addEventListener(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,[]),this.eventListeners.get(e).push(t)}removeEventListener(e,t){let s=this.eventListeners.get(e);if(s){let e=s.indexOf(t);e>-1&&s.splice(e,1)}}notifyListeners(e,t){(this.eventListeners.get(e)||[]).forEach(e=>{try{e(t)}catch(e){console.error("Error in sync event listener:",e)}})}queueSync(e){let t={...e,timestamp:Date.now()};this.syncQueue.push(t)}async processSyncQueue(){if(!this.isProcessing&&0!==this.syncQueue.length){this.isProcessing=!0;try{let e=[...this.syncQueue];for(let t of(this.syncQueue=[],e))await this.processEvent(t);this.lastSyncTime=Date.now()}catch(e){console.error("Error processing sync queue:",e)}finally{this.isProcessing=!1}}}async processEvent(e){try{switch(e.type){case"quiz_updated":await this.syncQuizData(e);break;case"reward_updated":await this.syncRewardData(e);break;case"analytics_updated":await this.syncAnalyticsData(e);break;case"settings_updated":await this.syncSettingsData(e)}this.notifyListeners(e.type,e)}catch(t){console.error("Error processing ".concat(e.type," event:"),t)}}async syncQuizData(e){if("admin"===e.source){let t=localStorage.getItem("game_quiz_data"),s=JSON.stringify(e.data);t!==s&&(localStorage.setItem("game_quiz_data",s),localStorage.setItem("game_last_sync",Date.now().toString()))}}async syncRewardData(e){if("admin"===e.source){let t=localStorage.getItem("game_reward_data"),s=JSON.stringify(e.data);t!==s&&(localStorage.setItem("game_reward_data",s),localStorage.setItem("game_last_sync",Date.now().toString()))}}async syncAnalyticsData(e){"game"===e.source&&"function"==typeof I.importGameData&&I.importGameData(e.data)}async syncSettingsData(e){if("admin"===e.source){let t=localStorage.getItem("game_settings_data"),s=JSON.stringify(e.data);t!==s&&(localStorage.setItem("game_settings_data",s),localStorage.setItem("game_last_sync",Date.now().toString()))}}async triggerSync(){try{let e=d.xB.getQuestions(),t=N.getAllAchievements();return this.queueSync({type:"quiz_updated",data:e,source:"admin"}),this.queueSync({type:"reward_updated",data:t,source:"admin"}),await this.processSyncQueue(),{success:!0,message:"Data synchronized successfully"}}catch(e){return{success:!1,message:e instanceof Error?e.message:"Sync failed"}}}getSyncStatus(){let e=parseInt(localStorage.getItem("game_last_sync")||"0");return{lastSyncTime:this.lastSyncTime,queueLength:this.syncQueue.length,isProcessing:this.isProcessing,gameLastSync:e}}isGameInSync(){return parseInt(localStorage.getItem("game_last_sync")||"0")>=Math.max(parseInt(localStorage.getItem("admin_quiz_questions_updated")||"0"),parseInt(localStorage.getItem("admin_reward_config_updated")||"0"))}async forceSyncAll(){let e=d.xB.getQuestions(),t=N.getAllAchievements();localStorage.setItem("game_quiz_data",JSON.stringify(e)),localStorage.setItem("game_reward_data",JSON.stringify(t)),localStorage.setItem("game_last_sync",Date.now().toString()),this.notifyListeners("quiz_updated",{type:"quiz_updated",data:e,timestamp:Date.now(),source:"admin"}),this.notifyListeners("reward_updated",{type:"reward_updated",data:t,timestamp:Date.now(),source:"admin"})}destroy(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),this.eventListeners.clear(),this.syncQueue=[]}constructor(){this.eventListeners=new Map,this.syncQueue=[],this.isProcessing=!1,this.lastSyncTime=0,this.syncInterval=null,this.startSyncLoop(),this.setupStorageListener()}}let D=j.getInstance();function M(){var e,t;let{state:s,dispatch:x}=(0,o.n)(),f=(0,r.useRouter)(),[b,w]=(0,a.useState)(!1),[y,v]=(0,a.useState)(!1),[N,_]=(0,a.useState)(!1),[S,A]=(0,a.useState)(!1),{awardCoins:E,getCurrentMultiplier:I}=(0,p.d)(),[j,M]=(0,a.useState)(0),[k,C]=(0,a.useState)(null),[T,q]=(0,a.useState)(0),[R,P]=(0,a.useState)(!1),[O,L]=(0,a.useState)(!1),[z,U]=(0,a.useState)(!1),[Q,V]=(0,a.useState)(!1),[F,H]=(0,a.useState)(0),[G,B]=(0,a.useState)(null),[W,J]=(0,a.useState)([]),[Y,K]=(0,a.useState)(!0),{disablePrevention:X}=(0,h.K)({isActive:!b&&!y&&!O&&!R,onExitAttempt:()=>{A(!0)},customMessage:"Are you sure you want to leave? Your progress will be lost!"});(0,a.useEffect)(()=>{var e;console.log("\uD83D\uDD27 HomePage: Onboarding state -",{showOnboarding:b,onboardingCompleted:y,onboardingSkipped:N,userCoins:null==(e=s.user)?void 0:e.coins})},[b,y,N,null==(e=s.user)?void 0:e.coins]),(0,a.useEffect)(()=>{console.log("\uD83D\uDD27 HomePage: showRewardPopup state changed to:",z)},[z]),(0,a.useEffect)(()=>{B({coin_reward:100,is_active:!0,show_on_insufficient_coins:!0,show_during_quiz:!0,trigger_after_questions:1})},[]),(0,a.useEffect)(()=>{if(!s.isAuthenticated&&!s.loading)if(localStorage.getItem("techkwiz_onboarding_completed")){console.log("\uD83D\uDD04 Returning user - creating guest user and skipping onboarding");let e={id:"guest_".concat(Date.now()),name:"Guest User",email:"guest_".concat(Date.now(),"@techkwiz.com"),coins:0,level:1,totalQuizzes:0,correctAnswers:0,joinDate:new Date().toISOString(),quizHistory:[],achievements:[]};localStorage.setItem("techkwiz_auth","dummy_token_"+e.id);let t=JSON.parse(localStorage.getItem("techkwiz_user")||"[]");t.push(e),localStorage.setItem("techkwiz_user",JSON.stringify(t)),x({type:"LOGIN_SUCCESS",payload:e}),_(!0)}else console.log("\uD83C\uDFAF New user detected - showing onboarding flow"),w(!0)},[s.isAuthenticated,s.loading,x]);let Z=()=>{try{K(!0);let e=localStorage.getItem("game_quiz_data"),t=[];if(e)t=JSON.parse(e),console.log("\uD83D\uDCCA Loaded questions from game sync data:",t.length);else try{t=d.xB.getQuestions()||[],console.log("\uD83D\uDCCA Loaded questions from admin data:",t.length)}catch(e){console.error("Error loading admin questions:",e),t=[]}let s=t.filter(e=>"homepage"===e.section),n=t.filter(e=>"beginner"===e.difficulty),a=s.length>=3?s:n;if(a.length>=3){let e=a.slice(0,5).map(e=>{var t;return{id:e.id,question:e.question,options:e.options,correct_answer:null!=(t=e.correct_answer)?t:0,difficulty:e.difficulty,fun_fact:e.fun_fact||"Thanks for playing!",category:e.category,subcategory:e.subcategory||e.category}});J(e),console.log("✅ Using ".concat(s.length>=3?"homepage section":"beginner"," questions for quiz"))}else J($()),console.log("⚠️ Using fallback questions (no admin questions available)")}catch(e){console.error("❌ Error loading quiz questions:",e),J($())}finally{K(!1)}},$=()=>[{id:"fallback-1",question:"Which social media platform is known for short-form videos?",options:["Instagram","TikTok","Twitter","Snapchat"],correct_answer:1,difficulty:"beginner",fun_fact:"TikTok was originally called Musical.ly!",category:"social-media",subcategory:"social-media"},{id:"fallback-2",question:"What does 'AI' stand for?",options:["Artificial Intelligence","Automated Internet","Advanced Interface","Algorithmic Integration"],correct_answer:0,difficulty:"beginner",fun_fact:"The term 'Artificial Intelligence' was first coined in 1956!",category:"technology",subcategory:"technology"},{id:"fallback-3",question:"Which company created the iPhone?",options:["Google","Samsung","Apple","Microsoft"],correct_answer:2,difficulty:"beginner",fun_fact:"The first iPhone was released in 2007!",category:"technology",subcategory:"technology"}];(0,a.useEffect)(()=>{Z();let e=()=>{console.log("\uD83D\uDD04 Quiz data synced, reloading questions..."),Z()};try{D.addEventListener("quiz_updated",e)}catch(e){console.error("Error setting up quiz sync listener:",e)}return()=>{try{D.removeEventListener("quiz_updated",e)}catch(e){console.error("Error removing quiz sync listener:",e)}}},[]);let ee=W.length>0?W:[{id:"quick-0",question:"Your vibe check: Pick your aesthetic",options:["Dark Academia ☕\uD83D\uDCDA","Soft Girl \uD83C\uDF38✨","Y2K Cyber \uD83D\uDCBF\uD83D\uDD2E","Cottagecore \uD83C\uDF44\uD83C\uDF3F"],correct_answer:-1,difficulty:"beginner",question_type:"this_or_that",fun_fact:"Your aesthetic choice reflects your inner personality and how you want to be perceived by others!",category:"swipe-personality",subcategory:"Aesthetic"},{id:"quick-1",question:"Decode this viral trend: \uD83D\uDC83\uD83D\uDD25\uD83C\uDFB5",options:["Buss It Challenge","Renegade Dance","WAP Dance","Savage Challenge"],correct_answer:0,difficulty:"beginner",question_type:"emoji_decode",fun_fact:"The Buss It Challenge went viral during the pandemic, with millions participating worldwide!",category:"pop-culture-flash",subcategory:"TikTok"}],et=()=>{U(!1),j<ee.length-1?(M(j+1),C(null)):(L(!0),P(!0),setTimeout(()=>{f.push("/start")},3e3))};return s.loading||Y?(0,n.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900",children:[(0,n.jsx)("nav",{className:"bg-gray-800/90 backdrop-blur-sm border-b border-white/10 sticky top-0 z-50",children:(0,n.jsx)("div",{className:"px-4 py-3",children:(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{className:"text-xl font-bold text-white",children:[(0,n.jsx)("span",{className:"text-orange-400",children:"Tech"}),"Kwiz"]})})})}),(0,n.jsx)("main",{className:"flex-1 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"glass-effect p-8 rounded-2xl text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-white",children:Y?"Loading quiz questions...":"Loading TechKwiz..."}),Y&&(0,n.jsx)("p",{className:"text-blue-200 text-sm mt-2",children:"Loading questions..."})]})})]}):b?(0,n.jsx)(u,{onComplete:e=>{console.log("\uD83C\uDF89 Onboarding completed! Earned ".concat(e," coins"));let t={id:"guest_".concat(Date.now()),name:"Guest User",email:"guest_".concat(Date.now(),"@techkwiz.com"),coins:e,level:1,totalQuizzes:0,correctAnswers:0,joinDate:new Date().toISOString(),quizHistory:[],achievements:[]};localStorage.setItem("techkwiz_auth","dummy_token_"+t.id);let s=JSON.parse(localStorage.getItem("techkwiz_user")||"[]");s.push(t),localStorage.setItem("techkwiz_user",JSON.stringify(s)),x({type:"LOGIN_SUCCESS",payload:t}),v(!0),w(!1),localStorage.setItem("techkwiz_onboarding_completed","true"),setTimeout(()=>{v(!0)},500)},onSkip:()=>{console.log("⏭️ Onboarding skipped"),_(!0),w(!1),localStorage.setItem("techkwiz_onboarding_completed","true")}}):R&&O?(0,n.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900",children:[(0,n.jsx)("nav",{className:"bg-gray-800/90 backdrop-blur-sm border-b border-white/10 sticky top-0 z-50",children:(0,n.jsx)("div",{className:"px-4 py-3",children:(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{className:"text-xl font-bold text-white",children:[(0,n.jsx)("span",{className:"text-orange-400",children:"Tech"}),"Kwiz"]})})})}),(0,n.jsx)("main",{className:"flex-1 flex items-center justify-center p-4",children:(0,n.jsxs)(i.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"glass-effect p-8 rounded-2xl text-center max-w-md",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF89"}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Quiz Completed!"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"bg-green-500/20 backdrop-blur-sm rounded-xl p-4 border border-green-400/30",children:[(0,n.jsx)("p",{className:"text-green-300 text-sm font-medium",children:"Score"}),(0,n.jsxs)("p",{className:"text-white text-2xl font-bold",children:[T,"/",ee.length]})]}),(0,n.jsxs)("div",{className:"bg-orange-500/20 backdrop-blur-sm rounded-xl p-4 border border-orange-400/30",children:[(0,n.jsx)("p",{className:"text-orange-300 text-sm font-medium",children:"Coins Earned"}),(0,n.jsx)("p",{className:"text-white text-2xl font-bold",children:100*T})]})]}),(0,n.jsx)("p",{className:"text-blue-200 text-sm mt-6",children:"Redirecting to categories..."})]})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900",children:[(0,n.jsx)("nav",{className:"bg-gray-800/90 backdrop-blur-sm border-b border-white/10 sticky top-0 z-50",children:(0,n.jsx)("div",{className:"px-4 py-3",children:(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{className:"text-xl font-bold text-white",children:[(0,n.jsx)("span",{className:"text-orange-400",children:"Tech"}),"Kwiz"]})})})}),(0,n.jsxs)("main",{className:"flex-1 p-4 flex flex-col items-center justify-center",children:[(0,n.jsxs)(i.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[(0,n.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2",children:["\uD83C\uDF89 Welcome to ",(0,n.jsx)("span",{className:"text-orange-400",children:"Youth Quiz Hub!"})]}),(0,n.jsx)("p",{className:"text-blue-200 text-base mb-2",children:"Level up with interactive quizzes designed for Gen Z!"}),y&&(0,n.jsx)("div",{className:"bg-green-500/20 backdrop-blur-sm rounded-xl p-3 border border-green-400/30 inline-block",children:(0,n.jsxs)("p",{className:"text-green-200 text-sm",children:["\uD83D\uDE80 Great job! You're all set with ",(0,n.jsxs)("span",{className:"text-yellow-400 font-bold",children:[(null==(t=s.user)?void 0:t.coins)||0," coins"]}),"!"]})})]}),(0,n.jsx)("div",{className:"w-full max-w-md mb-4",children:(0,n.jsx)("div",{className:"bg-gray-800/30 backdrop-blur-sm p-3 rounded-lg border border-white/10",children:(0,n.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(W.length>0?"bg-green-400":"bg-yellow-400")}),(0,n.jsx)("span",{className:"text-blue-200",children:W.length>0?"".concat(W.length," questions loaded"):"Using fallback questions"})]}),(0,n.jsx)("span",{className:"text-gray-400",children:D.isGameInSync()?"\uD83D\uDD04 Synced":"⚠️ Out of sync"})]})})}),(0,n.jsx)("div",{className:"w-full max-w-md",children:(0,n.jsx)(c.H,{question:ee[j],selectedAnswer:k,onAnswerSelect:e=>{console.log("\uD83D\uDD27 HomePage: handleAnswerSelect called with answerIndex:",e,"currentQuestion:",j,"selectedAnswer:",k),null===k&&(C(e),setTimeout(()=>{console.log("\uD83D\uDD27 HomePage: Processing answer after timeout...");let t=e===ee[j].correct_answer,s=-1===ee[j].correct_answer,n=s||t;if(console.log("\uD83D\uDD27 HomePage: Answer processed - isCorrect:",n),V(n),n){q(T+1);let e=E(100,"quiz");H(e),console.log("✅ ".concat(s?"Great choice":"Correct answer","! Earned ").concat(e," coins"))}else H(0),console.log("❌ Wrong answer, no coins earned");let a=(null==G?void 0:G.trigger_after_questions)||1,r=(null==G?void 0:G.is_active)&&(null==G?void 0:G.show_during_quiz)&&(j+1)%a==0;if(console.log("\uD83D\uDD27 HomePage: Popup trigger check - currentQuestion:",j,"triggerAfterQuestions:",a,"shouldShowPopup:",r,"is_active:",null==G?void 0:G.is_active,"show_during_quiz:",null==G?void 0:G.show_during_quiz),r){console.log("\uD83D\uDD27 HomePage: Triggering reward popup after",a,"questions"),U(!0);return}j<ee.length-1?(M(j+1),C(null)):(L(!0),P(!0),setTimeout(()=>{f.push("/start")},3e3))},1e3))},questionAnswered:null!==k,questionNumber:j+1,totalQuestions:ee.length,showProgress:!0,encouragementMessages:!0})}),(0,n.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-8",children:(0,n.jsx)(g,{position:"bottom",variant:"detailed",showLive:!0})}),(0,n.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-8 text-center",children:(0,n.jsxs)("div",{className:"bg-gray-800/30 backdrop-blur-sm p-4 rounded-xl border border-white/10",children:[(0,n.jsxs)("p",{className:"text-blue-200 text-sm mb-2",children:["\uD83D\uDE80 ",(0,n.jsx)("strong",{children:"What's Next:"})]}),(0,n.jsxs)("div",{className:"text-xs text-blue-200 space-y-1",children:[(0,n.jsx)("div",{children:"\uD83D\uDCB0 Earn more coins in category quizzes (20-45 coins entry)"}),(0,n.jsx)("div",{children:"\uD83C\uDFC6 Get 50 coins per correct answer"}),(0,n.jsx)("div",{children:"\uD83C\uDFAF Challenge yourself with timer-based questions"}),(0,n.jsx)("div",{children:"\uD83D\uDCFA Watch ads to earn bonus coins"})]})]})})]})]}),(0,n.jsx)(l._,{isOpen:z,onClose:et,coinsEarned:F,onClaimReward:()=>{console.log("\uD83D\uDCFA Ad watched! Earned ".concat(100," coins")),x({type:"UPDATE_COINS",payload:100})},onSkipReward:et,isCorrect:Q,rewardCoins:100}),(0,n.jsx)(m.B,{isOpen:S,onConfirm:()=>{A(!1),X(),f.push("/start")},onCancel:()=>{A(!1)},currentProgress:{questionNumber:j+1,totalQuestions:ee.length,coinsAtRisk:100*T}})]})}},2046:(e,t,s)=>{Promise.resolve().then(s.bind(s,1604))},7062:(e,t,s)=>{"use strict";s.d(t,{B:()=>i});var n=s(5155),a=s(2115),r=s(3463);function i(e){let{isOpen:t,onConfirm:s,onCancel:i,currentProgress:o}=e,[c,l]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{if(t)l(!0);else{let e=setTimeout(()=>l(!1),200);return()=>clearTimeout(e)}},[t]),c)?(0,n.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:(0,n.jsxs)(r.P.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:+!!t,scale:t?1:.9,y:20*!t},transition:{duration:.2,ease:"easeOut"},className:"bg-gradient-to-br from-red-900/95 to-orange-900/95 backdrop-blur-md rounded-2xl p-8 max-w-md mx-auto border border-red-400/30 text-center",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"⚠️"}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Do you want to exit the quiz?"}),o&&(0,n.jsxs)("div",{className:"bg-red-500/20 backdrop-blur-sm rounded-xl p-4 border border-red-400/30 mb-6",children:[(0,n.jsx)("p",{className:"text-red-100 text-sm mb-2",children:(0,n.jsx)("strong",{children:"You're doing great!"})}),(0,n.jsxs)("div",{className:"space-y-1 text-sm text-red-200",children:[(0,n.jsxs)("div",{children:["\uD83D\uDCCA Progress: ",o.questionNumber,"/",o.totalQuestions]}),(0,n.jsxs)("div",{children:["\uD83E\uDE99 Potential coins at risk: ",o.coinsAtRisk]})]})]}),(0,n.jsx)("p",{className:"text-red-100 mb-8 leading-relaxed",children:o?"You've made good progress! Are you sure you want to leave and lose your current streak?":"Your progress will be lost if you exit now. Are you sure?"}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)(r.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white font-medium py-3 px-6 rounded-xl transition-all duration-200 shadow-lg",children:"Continue Playing"}),(0,n.jsx)(r.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"flex-1 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white font-medium py-3 px-6 rounded-xl transition-all duration-200 shadow-lg",children:"Yes, Exit"})]}),(0,n.jsx)("p",{className:"text-orange-200 text-xs mt-4 opacity-75",children:"\uD83D\uDCA1 Tip: Complete quizzes to maximize your coin earnings!"})]})}):null}}},e=>{e.O(0,[281,484,570,263,441,964,358],()=>e(e.s=2046)),_N_E=e.O()}]);