"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[570],{760:(e,t,r)=>{r.d(t,{N:()=>w});var i=r(5155),s=r(2115),n=r(869),a=r(2885),o=r(7494),l=r(845),c=r(7351),u=r(1508);class d extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.s)(e)&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:r,anchorX:n,root:a}=e,o=(0,s.useId)(),l=(0,s.useRef)(null),c=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,s.useContext)(u.Q);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:i,left:s,right:u}=c.current;if(r||!l.current||!e||!t)return;l.current.dataset.motionPopId=o;let d=document.createElement("style");h&&(d.nonce=h);let f=null!=a?a:document.head;return f.appendChild(d),d.sheet&&d.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===n?"left: ".concat(s):"right: ".concat(u),"px !important;\n            top: ").concat(i,"px !important;\n          }\n        ")),()=>{f.contains(d)&&f.removeChild(d)}},[r]),(0,i.jsx)(d,{isPresent:r,childRef:l,sizeRef:c,children:s.cloneElement(t,{ref:l})})}let f=e=>{let{children:t,initial:r,isPresent:n,onExitComplete:o,custom:c,presenceAffectsLayout:u,mode:d,anchorX:f,root:m}=e,p=(0,a.M)(g),y=(0,s.useId)(),w=!0,N=(0,s.useMemo)(()=>(w=!1,{id:y,initial:r,isPresent:n,custom:c,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;o&&o()},register:e=>(p.set(e,!1),()=>p.delete(e))}),[n,p,o]);return u&&w&&(N={...N}),(0,s.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[n]),s.useEffect(()=>{n||p.size||!o||o()},[n]),"popLayout"===d&&(t=(0,i.jsx)(h,{isPresent:n,anchorX:f,root:m,children:t})),(0,i.jsx)(l.t.Provider,{value:N,children:t})};function g(){return new Map}var m=r(2082);let p=e=>e.key||"";function y(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let w=e=>{let{children:t,custom:r,initial:l=!0,onExitComplete:c,presenceAffectsLayout:u=!0,mode:d="sync",propagate:h=!1,anchorX:g="left",root:w}=e,[N,I]=(0,m.xQ)(h),b=(0,s.useMemo)(()=>y(t),[t]),S=h&&!N?[]:b.map(p),A=(0,s.useRef)(!0),_=(0,s.useRef)(b),x=(0,a.M)(()=>new Map),[E,O]=(0,s.useState)(b),[T,v]=(0,s.useState)(b);(0,o.E)(()=>{A.current=!1,_.current=b;for(let e=0;e<T.length;e++){let t=p(T[e]);S.includes(t)?x.delete(t):!0!==x.get(t)&&x.set(t,!1)}},[T,S.length,S.join("-")]);let D=[];if(b!==E){let e=[...b];for(let t=0;t<T.length;t++){let r=T[t],i=p(r);S.includes(i)||(e.splice(t,0,r),D.push(r))}return"wait"===d&&D.length&&(e=D),v(y(e)),O(b),null}let{forceRender:Q}=(0,s.useContext)(n.L);return(0,i.jsx)(i.Fragment,{children:T.map(e=>{let t=p(e),s=(!h||!!N)&&(b===T||S.includes(t));return(0,i.jsx)(f,{isPresent:s,initial:(!A.current||!!l)&&void 0,custom:r,presenceAffectsLayout:u,mode:d,root:w,onExitComplete:s?void 0:()=>{if(!x.has(t))return;x.set(t,!0);let e=!0;x.forEach(t=>{t||(e=!1)}),e&&(null==Q||Q(),v(_.current),h&&(null==I||I()),c&&c())},anchorX:g,children:e},t)})})}},3825:(e,t,r)=>{r.d(t,{H:()=>a});var i=r(5155),s=r(2115),n=r(3463);function a(e){let{question:t,selectedAnswer:r,onAnswerSelect:a,questionAnswered:o,questionNumber:l,totalQuestions:c,showProgress:u=!0,encouragementMessages:d=!0}=e,[h,f]=(0,s.useState)(!1),[g,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{f(!0);let e=setTimeout(()=>f(!1),500);return d&&(2===l||4===l)&&setTimeout(()=>{m(!0),setTimeout(()=>m(!1),3e3)},500),()=>clearTimeout(e)},[l,d]);let p=(null==t?void 0:t.question_type)||"multiple_choice";return t?(0,i.jsxs)("div",{className:"relative",children:[g&&(0,i.jsx)(n.P.div,{initial:{opacity:0,y:-20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.8},className:"absolute -top-16 left-1/2 transform -translate-x-1/2 z-10",children:(0,i.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-full shadow-lg border border-green-400/50 backdrop-blur-md",children:(0,i.jsx)("p",{className:"text-sm font-bold text-center whitespace-nowrap",children:(()=>{let e=["Awesome! You're on fire! \uD83D\uDD25","Keep it up! You're crushing it! \uD83D\uDCAA","Brilliant! You're really smart! \uD83E\uDDE0","Fantastic! You're doing amazing! ⭐","Incredible! You're a quiz master! \uD83D\uDC51"];return e[Math.floor(Math.random()*e.length)]})()})})}),(0,i.jsxs)(n.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl border border-white/10 w-full ".concat(h?"animate-bounce-in":""),children:[(0,i.jsxs)("div",{className:"text-center mb-6",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-white mb-3",children:(()=>{switch(p){case"this_or_that":return"Vibe Check! ✨";case"emoji_decode":return"Decode This! \uD83E\uDDE9";case"personality":return"Know Yourself! \uD83E\uDD33";case"prediction":return"Future Vision! \uD83D\uDD2E";default:return"Level Up! \uD83D\uDE80"}})()}),(0,i.jsx)("p",{className:"text-sm text-blue-200 mb-4",children:(()=>{switch(p){case"this_or_that":return"Pick your aesthetic and earn coins!";case"emoji_decode":return"Crack the emoji code and slay!";case"personality":return"Discover your digital persona!";case"prediction":return"Predict the future and win!";default:return"Answer questions and win coins!"}})()}),u&&(0,i.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,i.jsxs)("div",{className:"bg-blue-500/20 backdrop-blur-sm rounded-full px-6 py-3 inline-block border border-blue-400/30",children:[(0,i.jsxs)("span",{className:"text-white font-bold text-lg",children:[l,"/",c]}),(0,i.jsxs)("span",{className:"text-blue-200 text-sm ml-2",children:["- ",(()=>{let e=l/c;return e<=.3?"Just getting started! \uD83D\uDE80":e<=.6?"You're doing great! \uD83D\uDD25":e<=.9?"Almost there! \uD83D\uDCAA":"Final question! \uD83C\uDFAF"})()]})]}),(0,i.jsx)("div",{className:"max-w-xs mx-auto",children:(0,i.jsx)("div",{className:"w-full bg-gray-700/50 rounded-full h-2",children:(0,i.jsx)(n.P.div,{initial:{width:0},animate:{width:"".concat(l/c*100,"%")},transition:{duration:.8,ease:"easeOut"},className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full"})})})]})]}),"this_or_that"===p?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"text-center mb-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 leading-tight",children:t.question}),t.emoji_clue&&(0,i.jsx)("div",{className:"text-3xl mb-4",children:t.emoji_clue})]}),(0,i.jsx)("div",{className:"grid grid-cols-2 gap-3",children:t.options.map((e,s)=>{var o;return(0,i.jsxs)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(s),disabled:null!==r,className:"p-4 rounded-xl text-center font-medium transition-all duration-300 border-2 ".concat(r===s?"bg-purple-500 text-white border-purple-400 shadow-lg shadow-purple-500/30":"bg-gray-700/50 text-white border-gray-600 hover:bg-gray-600/50 hover:border-purple-400/50"),children:[(0,i.jsx)("div",{className:"text-2xl mb-2",children:(null==(o=t.visual_options)?void 0:o[s])||"✨"}),(0,i.jsx)("div",{className:"text-sm font-medium",children:e})]},s)})})]}):(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"text-center mb-6",children:(0,i.jsx)("h3",{className:"text-lg font-semibold text-white mb-6 leading-tight",children:t.question})}),(0,i.jsx)("div",{className:"space-y-3",children:t.options.map((e,s)=>(0,i.jsx)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(s),disabled:null!==r,className:"w-full p-4 rounded-xl text-left font-medium transition-all duration-300 border ".concat(r===s?"bg-blue-500 text-white border-blue-400":"bg-gray-700/50 text-white border-gray-600 hover:bg-gray-600/50"," ").concat(null!==r&&s===t.correct_answer?"bg-green-500 border-green-400":""," ").concat(null!==r&&r===s&&s!==t.correct_answer?"bg-red-500 border-red-400":""),children:e},s))})]})]})]}):(0,i.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,i.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-md rounded-xl p-6 border border-slate-700/50 text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-400 mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-slate-300",children:"Loading question..."})]})})}},9314:(e,t,r)=>{r.d(t,{xB:()=>o});let i={QUESTIONS:"admin_quiz_questions",CATEGORIES:"admin_quiz_categories",SETTINGS:"admin_quiz_settings",DRAFTS:"admin_quiz_drafts",BACKUP:"admin_quiz_backup"},s={QUESTION_MIN_LENGTH:10,QUESTION_MAX_LENGTH:500,OPTION_MIN_LENGTH:1,OPTION_MAX_LENGTH:100,MIN_OPTIONS:4,MAX_OPTIONS:4,MAX_BULK_OPERATIONS:50,MAX_FILE_SIZE:5242880,AUTO_SAVE_INTERVAL:3e4};class n extends Error{constructor(e,t){super(e),this.code=t,this.name="QuizDataError"}}class a{static getInstance(){return a.instance||(a.instance=new a),a.instance}safeGetItem(e){try{return localStorage.getItem(e)}catch(t){return console.error("Error reading from localStorage key ".concat(e,":"),t),null}}safeSetItem(e,t){try{return localStorage.setItem(e,t),!0}catch(t){if(console.error("Error writing to localStorage key ".concat(e,":"),t),t instanceof DOMException&&22===t.code)throw new n("Storage quota exceeded. Please clear some data.","QUOTA_EXCEEDED");return!1}}getQuestions(){let e=this.safeGetItem(i.QUESTIONS);if(!e)return this.initializeWithSampleData();try{let t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return console.error("Error parsing questions data:",e),this.initializeWithSampleData()}}getFilteredQuestions(e){let t=this.getQuestions();return e?t.filter(t=>(!e.category||t.category===e.category)&&(!e.difficulty||t.difficulty===e.difficulty)&&(!e.type||t.type===e.type)&&(!e.section||t.section===e.section)&&(!e.subcategory||t.subcategory===e.subcategory)&&(!e.tags||!!e.tags.some(e=>{var r;return null==(r=t.tags)?void 0:r.includes(e)}))&&!0):t}getQuestionsBySection(e){return this.getFilteredQuestions({section:e})}getQuestionsByCategoryAndSection(e,t){return this.getFilteredQuestions({category:e,section:t})}saveQuestion(e){this.validateQuestion(e);let t=this.getQuestions(),r=Date.now(),i={...e,id:this.generateId(),createdAt:r,updatedAt:r};return t.push(i),this.saveQuestions(t),i}updateQuestion(e,t){let r=this.getQuestions(),i=r.findIndex(t=>t.id===e);if(-1===i)throw new n("Question with id ".concat(e," not found"),"NOT_FOUND");let s={...r[i],...t,updatedAt:Date.now()};return this.validateQuestion(s),r[i]=s,this.saveQuestions(r),s}deleteQuestion(e){let t=this.getQuestions(),r=t.filter(t=>t.id!==e);if(r.length===t.length)throw new n("Question with id ".concat(e," not found"),"NOT_FOUND");return this.saveQuestions(r),!0}bulkDelete(e){if(e.length>s.MAX_BULK_OPERATIONS)throw new n("Cannot delete more than ".concat(s.MAX_BULK_OPERATIONS," questions at once"),"BULK_LIMIT_EXCEEDED");let t=this.getQuestions(),r=t.length,i=t.filter(t=>!e.includes(t.id)),a=r-i.length;return this.saveQuestions(i),{success:!0,processedCount:a,errorCount:e.length-a,errors:e.length>a?["Some questions were not found"]:[]}}searchQuestions(e){let t=this.getQuestions();return e&&0!==Object.keys(e).length?t.filter(t=>{if(e.query){var r;let i=e.query.toLowerCase(),s=t.question.toLowerCase().includes(i),n=t.options.some(e=>e.toLowerCase().includes(i)),a=t.category.toLowerCase().includes(i),o=t.subcategory.toLowerCase().includes(i),l=null==(r=t.tags)?void 0:r.some(e=>e.toLowerCase().includes(i));if(!s&&!n&&!a&&!o&&!l)return!1}return(!e.category||t.category===e.category)&&(!e.difficulty||t.difficulty===e.difficulty)&&(!e.type||t.type===e.type)&&(!e.section||t.section===e.section)&&(!e.subcategory||t.subcategory===e.subcategory)&&(!e.tags||!(e.tags.length>0)||!!e.tags.some(e=>{var r;return null==(r=t.tags)?void 0:r.includes(e)}))&&!0}).sort((t,r)=>{switch(e.sortBy){case"createdAt":return"desc"===e.sortOrder?(r.createdAt||0)-(t.createdAt||0):(t.createdAt||0)-(r.createdAt||0);case"updatedAt":return"desc"===e.sortOrder?(r.updatedAt||0)-(t.updatedAt||0):(t.updatedAt||0)-(r.updatedAt||0);case"difficulty":let i={beginner:1,intermediate:2,advanced:3};return"desc"===e.sortOrder?(i[r.difficulty]||0)-(i[t.difficulty]||0):(i[t.difficulty]||0)-(i[r.difficulty]||0);default:return 0}}):t}importQuestions(e){try{let t=JSON.parse(e),r=Array.isArray(t)?t:[t];if(r.length>s.MAX_BULK_OPERATIONS)throw new n("Cannot import more than ".concat(s.MAX_BULK_OPERATIONS," questions at once"),"BULK_LIMIT_EXCEEDED");r.forEach(e=>this.validateQuestion(e));let i=[...this.getQuestions(),...r.map(e=>({...e,id:e.id||this.generateId(),createdAt:e.createdAt||Date.now(),updatedAt:e.updatedAt||Date.now()}))];return this.saveQuestions(i),{success:!0,processedCount:r.length,errorCount:0,errors:[]}}catch(e){if(e instanceof n)throw e;throw new n("Failed to import questions: ".concat(e instanceof Error?e.message:"Unknown error"),"IMPORT_FAILED")}}exportQuestions(e){return JSON.stringify(e?this.searchQuestions(e):this.getQuestions(),null,2)}validateQuestion(e){if(!e.question||e.question.length<s.QUESTION_MIN_LENGTH)throw new n("Question must be at least ".concat(s.QUESTION_MIN_LENGTH," characters long"),"INVALID_QUESTION");if(e.question.length>s.QUESTION_MAX_LENGTH)throw new n("Question must be no more than ".concat(s.QUESTION_MAX_LENGTH," characters long"),"INVALID_QUESTION");if(!Array.isArray(e.options)||e.options.length<s.MIN_OPTIONS||e.options.length>s.MAX_OPTIONS)throw new n("Question must have exactly ".concat(s.MIN_OPTIONS," options"),"INVALID_OPTIONS");if(e.options.forEach((e,t)=>{if(!e||e.length<s.OPTION_MIN_LENGTH)throw new n("Option ".concat(t+1," must be at least ").concat(s.OPTION_MIN_LENGTH," characters long"),"INVALID_OPTION");if(e.length>s.OPTION_MAX_LENGTH)throw new n("Option ".concat(t+1," must be no more than ").concat(s.OPTION_MAX_LENGTH," characters long"),"INVALID_OPTION")}),"number"!=typeof e.correct_answer||e.correct_answer<0||e.correct_answer>=e.options.length)throw new n("Correct answer index must be between 0 and ".concat(e.options.length-1),"INVALID_CORRECT_ANSWER");if(!e.difficulty||!["beginner","intermediate","advanced"].includes(e.difficulty))throw new n("Question must have a valid difficulty level (beginner, intermediate, or advanced)","INVALID_DIFFICULTY");if(!e.category)throw new n("Question must have a category","INVALID_CATEGORY");if(!e.subcategory)throw new n("Question must have a subcategory","INVALID_SUBCATEGORY")}saveQuestions(e){this.safeSetItem(i.QUESTIONS,JSON.stringify(e))}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}initializeWithSampleData(){let e=[{id:"sample-1",question:"Which social media platform is known for short-form videos?",options:["Instagram","TikTok","Twitter","Snapchat"],correct_answer:1,difficulty:"beginner",fun_fact:"TikTok was originally called Musical.ly!",category:"social-media",subcategory:"Platforms",section:"homepage",createdAt:Date.now(),updatedAt:Date.now()},{id:"sample-2",question:'What does "AI" stand for?',options:["Artificial Intelligence","Automated Internet","Advanced Interface","Algorithmic Integration"],correct_answer:0,difficulty:"beginner",fun_fact:'The term "Artificial Intelligence" was first coined in 1956!',category:"technology",subcategory:"Acronyms",section:"homepage",createdAt:Date.now(),updatedAt:Date.now()},{id:"sample-3",question:"Which company created the iPhone?",options:["Google","Samsung","Apple","Microsoft"],correct_answer:2,difficulty:"beginner",fun_fact:"The first iPhone was released in 2007!",category:"technology",subcategory:"Companies",section:"homepage",createdAt:Date.now(),updatedAt:Date.now()}];return this.saveQuestions(e),e}getCategories(){let e=this.safeGetItem(i.CATEGORIES);if(!e)return this.initializeWithSampleCategories();try{let t=JSON.parse(e);return Array.isArray(t)?t:this.initializeWithSampleCategories()}catch(e){return console.error("Error parsing categories data:",e),this.initializeWithSampleCategories()}}initializeWithSampleCategories(){let e=Date.now(),t=[{id:"movies",name:"Movies",description:"Test your knowledge of movies and cinema",icon:"\uD83C\uDFAC",color:"bg-blue-500",questionCount:0,difficultyLevels:["beginner","intermediate","advanced"],createdAt:e,updatedAt:e},{id:"social-media",name:"Social Media",description:"How well do you know social media platforms?",icon:"\uD83D\uDCF1",color:"bg-purple-500",questionCount:0,difficultyLevels:["beginner","intermediate","advanced"],createdAt:e,updatedAt:e},{id:"influencers",name:"Influencers",description:"Test your knowledge of popular influencers",icon:"\uD83C\uDF1F",color:"bg-pink-500",questionCount:0,difficultyLevels:["beginner","intermediate","advanced"],createdAt:e,updatedAt:e}];return this.safeSetItem(i.CATEGORIES,JSON.stringify(t)),t}saveCategories(e){this.safeSetItem(i.CATEGORIES,JSON.stringify(e))}getSettings(){let e=this.safeGetItem(i.SETTINGS);if(!e)return this.initializeWithDefaultSettings();try{let t=JSON.parse(e);return"object"==typeof t?t:this.initializeWithDefaultSettings()}catch(e){return console.error("Error parsing settings data:",e),this.initializeWithDefaultSettings()}}initializeWithDefaultSettings(){let e={autoSaveEnabled:!0,autoSaveInterval:s.AUTO_SAVE_INTERVAL,maxBulkOperations:s.MAX_BULK_OPERATIONS,maxFileSize:s.MAX_FILE_SIZE};return this.safeSetItem(i.SETTINGS,JSON.stringify(e)),e}saveSettings(e){this.safeSetItem(i.SETTINGS,JSON.stringify(e))}getDrafts(){let e=this.safeGetItem(i.DRAFTS);if(!e)return[];try{let t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return console.error("Error parsing drafts data:",e),[]}}saveDraft(e){let t=this.getDrafts(),r=Date.now(),s={...e,id:this.generateId(),createdAt:r,updatedAt:r};return t.push(s),this.safeSetItem(i.DRAFTS,JSON.stringify(t)),s}updateDraft(e,t){let r=this.getDrafts(),s=r.findIndex(t=>t.id===e);if(-1===s)throw new n("Draft with id ".concat(e," not found"),"NOT_FOUND");let a={...r[s],...t,updatedAt:Date.now()};return r[s]=a,this.safeSetItem(i.DRAFTS,JSON.stringify(r)),a}deleteDraft(e){let t=this.getDrafts(),r=t.filter(t=>t.id!==e);if(r.length===t.length)throw new n("Draft with id ".concat(e," not found"),"NOT_FOUND");return this.safeSetItem(i.DRAFTS,JSON.stringify(r)),!0}createBackup(){let e=JSON.stringify({questions:this.getQuestions(),categories:this.getCategories(),settings:this.getSettings(),drafts:this.getDrafts(),timestamp:Date.now(),version:"1.0"});return this.safeSetItem(i.BACKUP,e),e}restoreFromBackup(e){try{let t=JSON.parse(e);t.questions&&this.saveQuestions(t.questions),t.categories&&this.saveCategories(t.categories),t.settings&&this.saveSettings(t.settings),t.drafts&&this.safeSetItem(i.DRAFTS,JSON.stringify(t.drafts)),console.log("✅ Successfully restored from backup")}catch(e){throw new n("Failed to restore from backup: ".concat(e instanceof Error?e.message:"Unknown error"),"RESTORE_FAILED")}}getBackup(){return this.safeGetItem(i.BACKUP)}clearAllData(){Object.values(i).forEach(e=>{try{localStorage.removeItem(e)}catch(t){console.error("Error clearing data for key ".concat(e,":"),t)}})}constructor(){this.autoSaveTimer=null}}let o=a.getInstance()}}]);