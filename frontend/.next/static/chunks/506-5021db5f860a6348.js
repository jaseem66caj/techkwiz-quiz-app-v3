"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{210:(e,t,s)=>{s.d(t,{$5:()=>l,Go:()=>h,HW:()=>c,R1:()=>d,iD:()=>n,ri:()=>i,wR:()=>o,z0:()=>x});let a={USER:"techkwiz_user",AUTH_TOKEN:"techkwiz_auth"},r=(e,t)=>({id:"user_"+Math.random().toString(36).substr(2,9),email:e.toLowerCase(),name:e.split("@")[0].replace(/[^a-zA-Z0-9]/g," ").trim()||"Tech Enthusiast",coins:500,level:1,totalQuizzes:0,correctAnswers:0,joinDate:new Date().toISOString(),quizHistory:[]}),n=(e,t)=>{let s=m(e);if(s)return localStorage.setItem(a.AUTH_TOKEN,"dummy_token_"+s.id),s;{let s=r(e,t);return d(s),localStorage.setItem(a.AUTH_TOKEN,"dummy_token_"+s.id),s}},l=(e,t,s)=>{let n=r(e,t);return s&&(n.name=s),d(n),localStorage.setItem(a.AUTH_TOKEN,"dummy_token_"+n.id),n},i=()=>{localStorage.removeItem(a.AUTH_TOKEN)},o=()=>!!localStorage.getItem(a.AUTH_TOKEN),c=()=>{let e=localStorage.getItem(a.AUTH_TOKEN);if(!e)return null;let t=e.replace("dummy_token_","");return u().find(e=>e.id===t)||null},d=e=>{let t=u(),s=t.findIndex(t=>t.id===e.id||t.email===e.email);s>=0?t[s]=e:t.push(e),localStorage.setItem(a.USER,JSON.stringify(t))},m=e=>u().find(t=>t.email===e.toLowerCase())||null,u=()=>{try{let e=localStorage.getItem(a.USER);return e?JSON.parse(e):[]}catch(e){return console.error("Error parsing stored users:",e),[]}},x=(e,t)=>{let s=u(),r=s.findIndex(t=>t.id===e);r>=0&&(s[r].coins=t,localStorage.setItem(a.USER,JSON.stringify(s)))},h=(e,t)=>{let s=u(),r=s.findIndex(t=>t.id===e);if(r>=0){s[r].quizHistory.push(t),s[r].totalQuizzes+=1,s[r].correctAnswers+=t.correctAnswers||0;let e=Math.floor(s[r].totalQuizzes/5)+1;s[r].level=e,localStorage.setItem(a.USER,JSON.stringify(s))}}},881:(e,t,s)=>{s.d(t,{Providers:()=>d,n:()=>m});var a=s(5155),r=s(2115),n=s(210),l=s(5431);let i={user:null,isAuthenticated:!1,currentQuiz:null,quizHistory:[],loading:!0},o=(0,r.createContext)(void 0);function c(e,t){switch(t.type){case"SET_LOADING":return{...e,loading:t.payload};case"LOGIN_SUCCESS":return{...e,user:t.payload,isAuthenticated:!0,loading:!1};case"LOGOUT":return{...e,user:null,isAuthenticated:!1,currentQuiz:null,quizHistory:[]};case"UPDATE_COINS":if(!e.user)return e;let s=Math.max(0,e.user.coins+t.payload),a={...e.user,coins:s};return(0,n.R1)(a),(0,n.z0)(a.id,s),{...e,user:a};case"START_QUIZ":return{...e,currentQuiz:t.payload};case"END_QUIZ":if(!e.user)return e;let r=t.payload,l={...e.user,totalQuizzes:e.user.totalQuizzes+1,correctAnswers:e.user.correctAnswers+r.correctAnswers},o=Math.floor(l.totalQuizzes/5)+1;return l.level=o,(0,n.Go)(e.user.id,r),(0,n.R1)(l),{...e,user:l,currentQuiz:null,quizHistory:[...e.quizHistory,r]};case"RESET_USER":return{...e,user:i.user};default:return e}}function d(e){let{children:t}=e,[s,d]=(0,r.useReducer)(c,i);return(0,r.useEffect)(()=>{if((0,n.wR)()){let e=(0,n.HW)();e?d({type:"LOGIN_SUCCESS",payload:e}):d({type:"SET_LOADING",payload:!1})}else d({type:"SET_LOADING",payload:!1})},[]),(0,a.jsx)(l.X,{children:(0,a.jsx)(o.Provider,{value:{state:s,dispatch:d},children:t})})}function m(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useApp must be used within a Providers");return e}},5431:(e,t,s)=>{s.d(t,{X:()=>i,z:()=>o});var a=s(5155),r=s(2115),n=s(7358);let l=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("admin_token"),t=localStorage.getItem("admin_username");n.env.REACT_APP_BACKEND_URL||n.env.NEXT_PUBLIC_BACKEND_URL,e&&t?d(e,t):c(!1)},[]);let d=async(e,t)=>{try{let s=n.env.REACT_APP_BACKEND_URL||n.env.NEXT_PUBLIC_BACKEND_URL||"https://8f4a280c-d2c9-4a65-867d-01ac6b4a7cf8.preview.emergentagent.com";(await fetch("".concat(s,"/api/admin/verify"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})).ok?i({username:t,token:e}):(localStorage.removeItem("admin_token"),localStorage.removeItem("admin_username"))}catch(e){console.error("Token verification failed:",e),localStorage.removeItem("admin_token"),localStorage.removeItem("admin_username")}finally{c(!1)}},m=async(e,t)=>{try{let s=n.env.REACT_APP_BACKEND_URL||n.env.NEXT_PUBLIC_BACKEND_URL||"https://8f4a280c-d2c9-4a65-867d-01ac6b4a7cf8.preview.emergentagent.com",a=await fetch("".concat(s,"/api/admin/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(a.ok){let t=(await a.json()).access_token;return localStorage.setItem("admin_token",t),localStorage.setItem("admin_username",e),i({username:e,token:t}),!0}return!1}catch(e){return console.error("Login failed:",e),!1}};return(0,a.jsx)(l.Provider,{value:{adminUser:s,isAuthenticated:!!s,login:m,logout:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_username"),i(null)},loading:o},children:t})}let o=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAdmin must be used within an AdminProvider");return e}},5506:(e,t,s)=>{s.d(t,{V:()=>u});var a=s(5155),r=s(2115),n=s(6874),l=s.n(n),i=s(5695),o=s(3463),c=s(881),d=s(6313),m=s(210);function u(){var e,t,s;let n=(0,i.useRouter)(),{state:u,dispatch:x}=(0,c.n)(),[h,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),N=[{name:"Home",href:"/",icon:"\uD83C\uDFE0"},{name:"Categories",href:"/start",icon:"\uD83D\uDCDA"},{name:"Leaderboard",href:"/leaderboard",icon:"\uD83C\uDFC6"},{name:"Profile",href:"/profile",icon:"\uD83D\uDC64"}],v=()=>{(0,m.ri)(),x({type:"LOGOUT"}),n.push("/")};return u.loading?(0,a.jsx)("nav",{className:"glass-effect border-b border-white/10 sticky top-0 z-50",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-14 md:h-16",children:[(0,a.jsxs)("div",{className:"text-lg md:text-2xl font-bold text-white",children:[(0,a.jsx)("span",{className:"text-orange-400",children:"Tech"}),"Kwiz"]}),(0,a.jsx)("div",{className:"animate-pulse bg-white/10 rounded-full h-8 w-20"})]})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("nav",{className:"glass-effect border-b border-white/10 sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 sm:h-16 md:h-18",children:[(0,a.jsx)(l(),{href:"/",className:"flex items-center space-x-2",children:(0,a.jsxs)("div",{className:"text-xl sm:text-2xl md:text-2xl font-bold text-white",children:[(0,a.jsx)("span",{className:"text-orange-400",children:"Tech"}),"Kwiz"]})}),u.isAuthenticated&&(0,a.jsx)("div",{className:"hidden md:flex items-center space-x-6",children:N.map(e=>(0,a.jsxs)(l(),{href:e.href,className:"text-white hover:text-orange-400 transition-colors duration-200 flex items-center space-x-1 text-sm",children:[(0,a.jsx)("span",{className:"text-xs",children:e.icon}),(0,a.jsx)("span",{className:"font-medium",children:e.name})]},e.name))}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 md:space-x-4",children:[u.isAuthenticated?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"glass-effect px-3 py-2 sm:px-4 sm:py-2 rounded-full flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-xl sm:text-xl md:text-xl",children:"\uD83E\uDE99"}),(0,a.jsx)("span",{className:"text-white font-semibold text-base sm:text-base md:text-base",children:(null==(e=u.user)?void 0:e.coins)||0})]}),(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-white text-sm",children:["Hi, ",null==(t=u.user)?void 0:t.name,"!"]}),(0,a.jsx)("button",{onClick:v,className:"text-orange-400 hover:text-orange-300 text-sm transition-colors",children:"Logout"})]})]}):(0,a.jsx)("button",{onClick:()=>f(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-full font-semibold text-sm transition-colors",children:"Login"}),u.isAuthenticated&&(0,a.jsx)("button",{onClick:()=>p(!h),className:"md:hidden p-2 rounded-md text-white hover:text-orange-400 transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h?(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),u.isAuthenticated&&h&&(0,a.jsxs)(o.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"md:hidden py-3 border-t border-white/10",children:[(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:N.map(e=>(0,a.jsxs)(l(),{href:e.href,className:"text-white hover:text-orange-400 transition-colors duration-200 flex flex-col items-center space-y-1 py-2",onClick:()=>p(!1),children:[(0,a.jsx)("span",{className:"text-lg",children:e.icon}),(0,a.jsx)("span",{className:"font-medium text-xs",children:e.name})]},e.name))}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[(0,a.jsxs)("div",{className:"text-white text-sm",children:["Hi, ",null==(s=u.user)?void 0:s.name,"!"]}),(0,a.jsx)("button",{onClick:v,className:"text-orange-400 hover:text-orange-300 text-sm transition-colors",children:"Logout"})]})]})]})}),(0,a.jsx)(d.U,{isOpen:g,onClose:()=>f(!1),onSuccess:e=>{x({type:"LOGIN_SUCCESS",payload:e}),f(!1)}})]})}},6313:(e,t,s)=>{s.d(t,{U:()=>i});var a=s(5155),r=s(2115),n=s(3463),l=s(210);function i(e){let{isOpen:t,onClose:s,onSuccess:i}=e,[o,c]=(0,r.useState)(!0),[d,m]=(0,r.useState)(""),[u,x]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[g,f]=(0,r.useState)(!1),[N,v]=(0,r.useState)("");if(!t)return null;let b=async e=>{e.preventDefault(),f(!0),v("");try{if(!d||!u){v("Please fill in all fields"),f(!1);return}if(!o&&h.trim().length<2){v("Name must be at least 2 characters"),f(!1);return}let e=o?(0,l.iD)(d,u):(0,l.$5)(d,u,h);i(e),s()}catch(e){v("Something went wrong. Please try again.")}finally{f(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)(n.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"glass-effect p-6 md:p-8 rounded-2xl w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:o?"Welcome Back!":"Join TechKwiz"}),(0,a.jsx)("button",{onClick:s,className:"text-white hover:text-orange-400 transition-colors",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsx)("div",{className:"bg-blue-500/20 border border-blue-400/30 rounded-lg p-3 mb-6",children:(0,a.jsxs)("p",{className:"text-blue-200 text-sm text-center",children:["\uD83D\uDCA1 Demo Mode: Use any email and password to ",o?"login":"sign up"]})}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[!o&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Name"}),(0,a.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),placeholder:"Enter your name",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-orange-400 transition-colors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",value:d,onChange:e=>m(e.target.value),placeholder:"Enter any email (demo@example.com)",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-orange-400 transition-colors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white text-sm font-medium mb-2",children:"Password"}),(0,a.jsx)("input",{type:"password",value:u,onChange:e=>x(e.target.value),placeholder:"Enter any password",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-orange-400 transition-colors"})]}),N&&(0,a.jsx)("div",{className:"text-red-400 text-sm text-center",children:N}),(0,a.jsx)("button",{type:"submit",disabled:g,className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Processing...":o?"Login":"Sign Up"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-blue-200 text-sm",children:[o?"Don't have an account?":"Already have an account?",(0,a.jsx)("button",{onClick:()=>{c(!o),m(""),x(""),p(""),v("")},className:"ml-2 text-orange-400 hover:text-orange-300 font-semibold transition-colors",children:o?"Sign Up":"Login"})]})}),!o&&(0,a.jsxs)("div",{className:"mt-6 space-y-2",children:[(0,a.jsx)("p",{className:"text-white text-sm font-medium text-center mb-3",children:"\uD83C\uDF81 New User Benefits:"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-yellow-400",children:"\uD83E\uDE99 500"}),(0,a.jsx)("div",{className:"text-blue-200",children:"Starting Coins"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-purple-400",children:"\uD83C\uDFAF Level 1"}),(0,a.jsx)("div",{className:"text-blue-200",children:"Tech Enthusiast"})]})]})]})]})})}}}]);