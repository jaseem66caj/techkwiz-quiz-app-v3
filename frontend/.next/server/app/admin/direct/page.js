(()=>{var a={};a.id=294,a.ids=[294],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},267:(a,b,c)=>{Promise.resolve().then(c.bind(c,4484))},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},1741:(a,b,c)=>{"use strict";c.d(b,{b:()=>k,n:()=>l});var d=c(687),e=c(3210),f=c(9197),g=c(2737);let h={user:null,isAuthenticated:!1,currentQuiz:null,quizHistory:[],loading:!0},i=(0,e.createContext)(void 0);function j(a,b){switch(b.type){case"SET_LOADING":return{...a,loading:b.payload};case"LOGIN_SUCCESS":return{...a,user:b.payload,isAuthenticated:!0,loading:!1};case"LOGOUT":return{...a,user:null,isAuthenticated:!1,currentQuiz:null,quizHistory:[]};case"UPDATE_COINS":if(!a.user)return a;let c=a.user.coins,d=c+b.payload;d=Math.min(500,d=Math.max(0,d));let e={...a.user,coins:d};return(0,f.R1)(e),(0,f.z0)(e.id,d),console.log(`ðŸ’° COINS UPDATE: ${c} + ${b.payload} = ${d}`),{...a,user:e};case"START_QUIZ":return{...a,currentQuiz:b.payload};case"END_QUIZ":if(!a.user)return a;let g=b.payload,i={...a.user,totalQuizzes:a.user.totalQuizzes+1,correctAnswers:a.user.correctAnswers+g.correctAnswers},j=g.coinsEarned||0;i.coins=a.user.coins+j,console.log(`ðŸŽ‰ Quiz completed! Earned ${j} coins (${g.correctAnswers} correct \xd7 50)`);let k=Math.floor(i.totalQuizzes/5)+1;return i.level=k,(0,f.Go)(a.user.id,g),(0,f.R1)(i),(0,f.z0)(i.id,i.coins),{...a,user:i,currentQuiz:null,quizHistory:[...a.quizHistory,g]};case"RESET_USER":return{...a,user:h.user};default:return a}}function k({children:a}){let[b,c]=(0,e.useReducer)(j,h);return(0,d.jsx)(g.X,{children:(0,d.jsx)(i.Provider,{value:{state:b,dispatch:c},children:a})})}function l(){let a=(0,e.useContext)(i);if(void 0===a)throw Error("useApp must be used within a Providers");return a}},2341:(a,b,c)=>{Promise.resolve().then(c.bind(c,5041))},2737:(a,b,c)=>{"use strict";c.d(b,{X:()=>g,z:()=>h});var d=c(687),e=c(3210);let f=(0,e.createContext)(void 0);function g({children:a}){let[b,c]=(0,e.useState)(null),[g,h]=(0,e.useState)(!1),i=async(a,b)=>{try{let d=await fetch("https://6f432a21-8a1b-4406-9faf-ea20a067d237.preview.emergentagent.com/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:b})});if(d.ok){let b=(await d.json()).access_token;return localStorage.setItem("admin_token",b),localStorage.setItem("admin_username",a),c({username:a,token:b}),!0}return!1}catch(a){return console.error("Login failed:",a),!1}};return(0,d.jsx)(f.Provider,{value:{adminUser:b,isAuthenticated:!!b,login:i,logout:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_username"),c(null)},loading:g},children:a})}let h=()=>{let a=(0,e.useContext)(f);if(void 0===a)throw Error("useAdmin must be used within an AdminProvider");return a}},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:a=>{"use strict";a.exports=require("path")},4263:()=>{},4431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(1369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/frontend/src/app/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/frontend/src/app/layout.tsx","default")},4484:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(1369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/frontend/src/app/admin/direct/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/frontend/src/app/admin/direct/page.tsx","default")},4554:(a,b,c)=>{Promise.resolve().then(c.bind(c,4431))},5041:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>h});var d=c(687),e=c(307),f=c.n(e),g=c(1741);function h({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:f().className,children:(0,d.jsx)(g.b,{children:(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900",children:(0,d.jsx)("div",{className:"mx-auto max-w-sm sm:max-w-sm md:max-w-sm lg:max-w-sm xl:max-w-sm 2xl:max-w-sm min-h-screen bg-gray-900/50 backdrop-blur-sm border-x border-white/10",children:a})})})})})}c(4263)},6062:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,6133,23)),Promise.resolve().then(c.t.bind(c,6444,23)),Promise.resolve().then(c.t.bind(c,6042,23)),Promise.resolve().then(c.t.bind(c,9477,23)),Promise.resolve().then(c.t.bind(c,9345,23)),Promise.resolve().then(c.t.bind(c,2089,23)),Promise.resolve().then(c.t.bind(c,6577,23)),Promise.resolve().then(c.t.bind(c,1307,23)),Promise.resolve().then(c.t.bind(c,4817,23))},6291:(a,b,c)=>{Promise.resolve().then(c.bind(c,9820))},6423:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>C.a,__next_app__:()=>I,handler:()=>K,pages:()=>H,routeModule:()=>J,tree:()=>G});var d=c(5239),e=c(8088),f=c(7220),g=c(1289),h=c(6191),i=c(4823),j=c(1998),k=c(2603),l=c(4649),m=c(2781),n=c(2602),o=c(1268),p=c(4853),q=c(261),r=c(5052),s=c(9977),t=c(6713),u=c(3365),v=c(1454),w=c(7778),x=c(6143),y=c(9105),z=c(8171),A=c(6439),B=c(6133),C=c.n(B),D=c(893),E=c(2836),F={};for(let a in D)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(F[a]=()=>D[a]);c.d(b,F);let G={children:["",{children:["admin",{children:["direct",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,4484)),"/app/frontend/src/app/admin/direct/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,4431)),"/app/frontend/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,6133,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,849,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,9868,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,9615,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,H=["/app/frontend/src/app/admin/direct/page.tsx"],I={require:c,loadChunk:()=>Promise.resolve()},J=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/admin/direct/page",pathname:"/admin/direct",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:G},distDir:".next",projectDir:""});async function K(a,b,c){var d;let B="/admin/direct/page";"/index"===B&&(B="/");let F="false",L=(0,h.getRequestMeta)(a,"postponed"),M=(0,h.getRequestMeta)(a,"minimalMode"),N=await J.prepare(a,b,{srcPage:B,multiZoneDraftMode:F});if(!N)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:O,query:P,params:Q,parsedUrl:R,pageIsDynamic:S,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,serverActionsManifest:W,clientReferenceManifest:X,subresourceIntegrityManifest:Y,prerenderManifest:Z,isDraftMode:$,resolvedPathname:_,revalidateOnlyGenerated:aa,routerServerContext:ab,nextConfig:ac}=N,ad=R.pathname||"/",ae=(0,q.normalizeAppPath)(B),{isOnDemandRevalidate:af}=N,ag=Z.dynamicRoutes[ae],ah=Z.routes[_],ai=!!(ag||ah||Z.routes[ae]),aj=a.headers["user-agent"]||"",ak=(0,t.getBotType)(aj),al=(0,o.isHtmlBotRequest)(a),am=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??!!a.headers[s.NEXT_ROUTER_PREFETCH_HEADER],an=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[s.RSC_HEADER],ao=(0,r.getIsPossibleServerAction)(a),ap=(0,l.checkIsAppPPREnabled)(ac.experimental.ppr)&&(null==(d=Z.routes[ae]??Z.dynamicRoutes[ae])?void 0:d.renderingMode)==="PARTIALLY_STATIC",aq=!1,ar=!1,as=ap?L:void 0,at=ap&&an&&!am,au=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),av=!aj||(0,o.shouldServeStreamingMetadata)(aj,ac.htmlLimitedBots);al&&ap&&(ai=!1,av=!1);let aw=!0===J.isDev||!ai||"string"==typeof L||at,ax=al&&ap,ay=null;$||!ai||aw||ao||as||at||(ay=_);let az=ay;!az&&J.isDev&&(az=_);let aA={...D,tree:G,pages:H,GlobalError:C(),handler:K,routeModule:J,__next_app__:I};W&&X&&(0,n.setReferenceManifestsSingleton)({page:B,clientReferenceManifest:X,serverActionsManifest:W,serverModuleMap:(0,p.createServerModuleMap)({serverActionsManifest:W})});let aB=a.method||"GET",aC=(0,g.getTracer)(),aD=aC.getActiveScopeSpan();try{let d=async(c,d)=>{let e=new k.NodeNextRequest(a),f=new k.NodeNextResponse(b);return J.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aC.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aB} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aB} ${a.url}`)})},f=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:P,params:Q,page:ae,sharedContext:{buildId:O},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aA,Component:(0,j.T)(aA),params:Q,routeModule:J,page:B,postponed:f,shouldWaitOnAllReady:ax,serveStreamingMetadata:av,supportsDynamicResponse:"string"==typeof f||aw,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,subresourceIntegrityManifest:Y,serverActionsManifest:W,clientReferenceManifest:X,setIsrStatus:null==ab?void 0:ab.setIsrStatus,dir:J.projectDir,isDraftMode:$,isRevalidate:ai&&!f&&!at,botType:ak,isOnDemandRevalidate:af,isPossibleServerAction:ao,assetPrefix:ac.assetPrefix,nextConfigOutput:ac.output,crossOrigin:ac.crossOrigin,trailingSlash:ac.trailingSlash,previewProps:Z.preview,deploymentId:ac.deploymentId,enableTainting:ac.experimental.taint,htmlLimitedBots:ac.htmlLimitedBots,devtoolSegmentExplorer:ac.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ac.reactMaxHeadersLength,multiZoneDraftMode:F,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ac.experimental.cacheLife,basePath:ac.basePath,serverActions:ac.experimental.serverActions,...aq?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:aq}:{},experimental:{isRoutePPREnabled:ap,expireTime:ac.expireTime,staleTimes:ac.experimental.staleTimes,dynamicIO:!!ac.experimental.dynamicIO,clientSegmentCache:!!ac.experimental.clientSegmentCache,dynamicOnHover:!!ac.experimental.dynamicOnHover,inlineCss:!!ac.experimental.inlineCss,authInterrupts:!!ac.experimental.authInterrupts,clientTraceMetadata:ac.experimental.clientTraceMetadata||[]},waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>J.onRequestError(a,b,d,ab),err:(0,h.getRequestMeta)(a,"invokeError"),dev:J.isDev}},k=await d(e,i),{metadata:l}=k,{cacheControl:m,headers:n={},fetchTags:o}=l;if(o&&(n[x.NEXT_CACHE_TAGS_HEADER]=o),a.fetchMetrics=l.fetchMetrics,ai&&(null==m?void 0:m.revalidate)===0&&!J.isDev&&!ap){let a=l.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${_}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://6f432a21-8a1b-4406-9faf-ea20a067d237.preview.emergentagent.com";console.log("Testing login to:",`${a}/api/admin/login`);let c=await fetch(`${a}/api/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"admin",password:"password123"})}),d=await c.json();c.ok?(b(`SUCCESS: Got token: ${d.access_token.substring(0,50)}...`),localStorage.setItem("admin_token",d.access_token),localStorage.setItem("admin_username","admin"),setTimeout(()=>{window.location.href="/admin/dashboard"},1e3)):b(`ERROR: ${d.detail||"Login failed"}`)}catch(a){b(`ERROR: Network error - ${a.message}`)}finally{f(!1)}};return(0,d.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 w-full max-w-md",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Direct Admin Login Test"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"p-4 bg-blue-50 rounded",children:[(0,d.jsx)("h3",{className:"font-semibold",children:"Test Credentials:"}),(0,d.jsx)("p",{children:"Username: admin"}),(0,d.jsx)("p",{children:"Password: password123"})]}),(0,d.jsx)("button",{onClick:g,disabled:c,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 disabled:opacity-50",children:c?"Testing Login...":"Test Direct Login"}),(0,d.jsx)("button",{onClick:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_username"),b("Storage cleared")},className:"w-full bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700",children:"Clear Storage"}),a&&(0,d.jsx)("div",{className:`p-4 rounded ${a.startsWith("SUCCESS")?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:(0,d.jsx)("pre",{className:"whitespace-pre-wrap text-sm",children:a})})]})]})})}}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[373,827],()=>b(b.s=6423));module.exports=c})();